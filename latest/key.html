
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Key &#8212; ndb 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Model and Property" href="model.html" />
    <link rel="prev" title="Client" href="client.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-google.cloud.ndb.key">
<span id="key"></span><h1>Key<a class="headerlink" href="#module-google.cloud.ndb.key" title="Permalink to this headline">¶</a></h1>
<p>Provides a <a class="reference internal" href="#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a> for Google Cloud Datastore.</p>
<p>A key encapsulates the following pieces of information, which together
uniquely designate a (possible) entity in Google Cloud Datastore:</p>
<ul class="simple">
<li><p>a Google Cloud Platform project (a string)</p></li>
<li><p>a list of one or more <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs where <code class="docutils literal notranslate"><span class="pre">kind</span></code> is a string
and <code class="docutils literal notranslate"><span class="pre">id</span></code> is either a string or an integer</p></li>
<li><p>an optional namespace (a string)</p></li>
</ul>
<p>The application ID must always be part of the key, but since most
applications can only access their own entities, it defaults to the
current application ID and you rarely need to worry about it.</p>
<p>The namespace designates a top-level partition of the key space for a
particular application. If you’ve never heard of namespaces, you can
safely ignore this feature.</p>
<p>Most of the action is in the <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs. A key must have at
least one <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair. The last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair gives the kind
and the ID of the entity that the key refers to, the others merely
specify a “parent key”.</p>
<p>The kind is a string giving the name of the model class used to
represent the entity. In more traditional databases this would be
the table name. A model class is a Python class derived from
<a class="reference internal" href="model.html#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>. Only the class name itself is used as the kind. This means
all your model classes must be uniquely named within one application. You can
override this on a per-class basis.</p>
<p>The ID is either a string or an integer. When the ID is a string, the
application is in control of how it assigns IDs. For example, you
could use an email address as the ID for Account entities.</p>
<p>To use integer IDs, it’s common to let the datastore choose a unique ID for
an entity when first inserted into the datastore. The ID can be set to
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> to represent the key for an entity that hasn’t yet been
inserted into the datastore. The completed key (including the assigned ID)
will be returned after the entity is successfully inserted into the datastore.</p>
<p>A key for which the ID of the last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair is set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>
is called an <strong>incomplete key</strong> or <strong>partial key</strong>. Such keys can only be used
to insert entities into the datastore.</p>
<p>A key with exactly one <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair is called a top level key or a
root key. Top level keys are also used as entity groups, which play a
role in transaction management.</p>
<p>If there is more than one <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair, all but the last pair
represent the “ancestor path”, also known as the key of the “parent entity”.</p>
<p>Other constraints:</p>
<ul class="simple">
<li><p>Kinds and string IDs must not be empty and must be at most 1500 bytes
long (after UTF-8 encoding)</p></li>
<li><p>Integer IDs must be at least <code class="docutils literal notranslate"><span class="pre">1</span></code> and at most <code class="docutils literal notranslate"><span class="pre">2**63</span> <span class="pre">-</span> <span class="pre">1</span></code> (i.e. the
positive part of the range for a 64-bit signed integer)</p></li>
</ul>
<p>For more info about namespaces, see the multitenancy <a class="reference external" href="https://cloud.google.com/appengine/docs/standard/python/multitenancy/">overview</a>.
In the “legacy” Google App Engine runtime, the default namespace could be
set via the namespace manager (<code class="docutils literal notranslate"><span class="pre">google.appengine.api.namespace_manager</span></code>).
On the gVisor Google App Engine runtime (e.g. Python 3.7), the namespace
manager is not available so the default is to have an unset or empty
namespace. To explicitly select the empty namespace pass <code class="docutils literal notranslate"><span class="pre">namespace=&quot;&quot;</span></code>.</p>
<dl class="class">
<dt id="google.cloud.ndb.key.Key">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.key.</code><code class="sig-name descname">Key</code><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An immutable datastore key.</p>
<p>For flexibility and convenience, multiple constructor signatures are
supported.</p>
<p>The primary way to construct a key is using positional arguments:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">kind1</span><span class="p">,</span> <span class="n">id1</span><span class="p">,</span> <span class="n">kind2</span><span class="p">,</span> <span class="n">id2</span><span class="p">)</span>
<span class="go">Key(&#39;Parent&#39;, &#39;C&#39;, &#39;Child&#39;, 42)</span>
</pre></div>
</div>
<p>This is shorthand for either of the following two longer forms:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">pairs</span><span class="o">=</span><span class="p">[(</span><span class="n">kind1</span><span class="p">,</span> <span class="n">id1</span><span class="p">),</span> <span class="p">(</span><span class="n">kind2</span><span class="p">,</span> <span class="n">id2</span><span class="p">)])</span>
<span class="go">Key(&#39;Parent&#39;, &#39;C&#39;, &#39;Child&#39;, 42)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="p">[</span><span class="n">kind1</span><span class="p">,</span> <span class="n">id1</span><span class="p">,</span> <span class="n">kind2</span><span class="p">,</span> <span class="n">id2</span><span class="p">])</span>
<span class="go">Key(&#39;Parent&#39;, &#39;C&#39;, &#39;Child&#39;, 42)</span>
</pre></div>
</div>
<p>Either of the above constructor forms can additionally pass in another
key via the <code class="docutils literal notranslate"><span class="pre">parent</span></code> keyword. The <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs of the parent key
are inserted before the <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs passed explicitly.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parent</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">kind1</span><span class="p">,</span> <span class="n">id1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent</span>
<span class="go">Key(&#39;Parent&#39;, &#39;C&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">kind2</span><span class="p">,</span> <span class="n">id2</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">)</span>
<span class="go">Key(&#39;Parent&#39;, &#39;C&#39;, &#39;Child&#39;, 42)</span>
</pre></div>
</div>
<p>You can also construct a Key from a “url-safe” encoded string:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">urlsafe</span><span class="o">=</span><span class="sa">b</span><span class="s2">&quot;agdleGFtcGxlcgsLEgRLaW5kGLkKDA&quot;</span><span class="p">)</span>
<span class="go">Key(&#39;Kind&#39;, 1337, app=&#39;example&#39;)</span>
</pre></div>
</div>
<p>For rare use cases the following constructors exist:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Passing in a low-level Reference object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reference</span>
<span class="go">app: &quot;example&quot;</span>
<span class="go">path {</span>
<span class="go">  Element {</span>
<span class="go">    type: &quot;Kind&quot;</span>
<span class="go">    id: 1337</span>
<span class="go">  }</span>
<span class="go">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">)</span>
<span class="go">Key(&#39;Kind&#39;, 1337, app=&#39;example&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Passing in a serialized low-level Reference</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serialized</span> <span class="o">=</span> <span class="n">reference</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serialized</span>
<span class="go">b&#39;j\x07exampler\x0b\x0b\x12\x04Kind\x18\xb9\n\x0c&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">serialized</span><span class="o">=</span><span class="n">serialized</span><span class="p">)</span>
<span class="go">Key(&#39;Kind&#39;, 1337, app=&#39;example&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># For unpickling, the same as ndb.Key(**kwargs)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;pairs&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;Cheese&quot;</span><span class="p">,</span> <span class="s2">&quot;Cheddar&quot;</span><span class="p">)],</span> <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;good&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
<span class="go">Key(&#39;Cheese&#39;, &#39;Cheddar&#39;, namespace=&#39;good&#39;)</span>
</pre></div>
</div>
<p>The “url-safe” string is really a websafe-base64-encoded serialized
<code class="docutils literal notranslate"><span class="pre">Reference</span></code>, but it’s best to think of it as just an opaque unique
string.</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">Reference</span></code> is passed (using one of the <code class="docutils literal notranslate"><span class="pre">reference</span></code>,
<code class="docutils literal notranslate"><span class="pre">serialized</span></code> or <code class="docutils literal notranslate"><span class="pre">urlsafe</span></code> keywords), the positional arguments and
<code class="docutils literal notranslate"><span class="pre">namespace</span></code> must match what is already present in the <code class="docutils literal notranslate"><span class="pre">Reference</span></code>
(after decoding if necessary). The parent keyword cannot be combined with
a <code class="docutils literal notranslate"><span class="pre">Reference</span></code> in any form.</p>
<p>Keys are immutable, which means that a Key object cannot be modified
once it has been created. This is enforced by the implementation as
well as Python allows.</p>
<p>Keys also support interaction with the datastore; the methods <a class="reference internal" href="#google.cloud.ndb.key.Key.get" title="google.cloud.ndb.key.Key.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a>,
<a class="reference internal" href="#google.cloud.ndb.key.Key.get_async" title="google.cloud.ndb.key.Key.get_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_async()</span></code></a>, <a class="reference internal" href="#google.cloud.ndb.key.Key.delete" title="google.cloud.ndb.key.Key.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete()</span></code></a> and <a class="reference internal" href="#google.cloud.ndb.key.Key.delete_async" title="google.cloud.ndb.key.Key.delete_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_async()</span></code></a> are
the only ones that engage in any kind of I/O activity.</p>
<p>Keys may be pickled.</p>
<p>Subclassing Key is best avoided; it would be hard to get right.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_args</strong> (<em>Union</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>..</em><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>Dict</em><em>]</em><em>]</em>) – Either a tuple of
<code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs or a single dictionary containing only keyword
arguments.</p></li>
<li><p><strong>reference</strong> (<em>Optional</em><em>[            </em><em>Reference</em><em>]</em>) – A
reference protobuf representing a key.</p></li>
<li><p><strong>serialized</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>]</em>) – A reference protobuf serialized to bytes.</p></li>
<li><p><strong>urlsafe</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – A reference protobuf serialized to bytes. The
raw bytes are then converted to a websafe base64-encoded string.</p></li>
<li><p><strong>pairs</strong> (<em>Optional</em><em>[</em><em>Iterable</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em><em>]</em><em>]</em><em>]</em>) – An iterable
of <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs. If this argument is used, then
<code class="docutils literal notranslate"><span class="pre">path_args</span></code> should be empty.</p></li>
<li><p><strong>flat</strong> (<em>Optional</em><em>[</em><em>Iterable</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>]</em><em>]</em><em>]</em>) – An iterable of the
<code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs but flattened into a single value. For
example, the pairs <code class="docutils literal notranslate"><span class="pre">[(&quot;Parent&quot;,</span> <span class="pre">1),</span> <span class="pre">(&quot;Child&quot;,</span> <span class="pre">&quot;a&quot;)]</span></code> would be
flattened to <code class="docutils literal notranslate"><span class="pre">[&quot;Parent&quot;,</span> <span class="pre">1,</span> <span class="pre">&quot;Child&quot;,</span> <span class="pre">&quot;a&quot;]</span></code>.</p></li>
<li><p><strong>app</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The Google Cloud Platform project (previously
on Google App Engine, this was called the Application ID).</p></li>
<li><p><strong>namespace</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The namespace for the key.</p></li>
<li><p><strong>parent</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a><em>]</em>) – The parent of the key being
constructed. If provided, the key path will be <strong>relative</strong> to the
parent key’s path.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If none of <code class="docutils literal notranslate"><span class="pre">reference</span></code>, <code class="docutils literal notranslate"><span class="pre">serialized</span></code>, <code class="docutils literal notranslate"><span class="pre">urlsafe</span></code>,
    <code class="docutils literal notranslate"><span class="pre">pairs</span></code> or <code class="docutils literal notranslate"><span class="pre">flat</span></code> is provided as an argument and no positional
    arguments were given with the path.</p>
</dd>
</dl>
<dl class="method">
<dt id="google.cloud.ndb.key.Key.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Equality comparison operation.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__ge__">
<code class="sig-name descname">__ge__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__ge__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__ge__" title="Permalink to this definition">¶</a></dt>
<dd><p>Greater than or equal ordering.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__getnewargs__">
<code class="sig-name descname">__getnewargs__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__getnewargs__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__getnewargs__" title="Permalink to this definition">¶</a></dt>
<dd><p>Private API used to specify <code class="docutils literal notranslate"><span class="pre">__new__</span></code> arguments when unpickling.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is provided for backwards compatibility, though it
isn’t needed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple containing a single dictionary of
state to pickle. The dictionary has three keys <code class="docutils literal notranslate"><span class="pre">pairs</span></code>, <code class="docutils literal notranslate"><span class="pre">app</span></code>
and <code class="docutils literal notranslate"><span class="pre">namespace</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__getstate__">
<code class="sig-name descname">__getstate__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__getstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__getstate__" title="Permalink to this definition">¶</a></dt>
<dd><p>Private API used for pickling.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple containing a single dictionary of
state to pickle. The dictionary has three keys <code class="docutils literal notranslate"><span class="pre">pairs</span></code>, <code class="docutils literal notranslate"><span class="pre">app</span></code>
and <code class="docutils literal notranslate"><span class="pre">namespace</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[Dict[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__gt__">
<code class="sig-name descname">__gt__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__gt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__gt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Greater than ordering.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__hash__">
<code class="sig-name descname">__hash__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__hash__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__hash__" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash value, for use in dictionary lookups.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This ignores <code class="docutils literal notranslate"><span class="pre">app</span></code> and <code class="docutils literal notranslate"><span class="pre">namespace</span></code>. Since <a class="reference external" href="https://docs.python.org/3/library/functions.html#hash" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">hash()</span></code></a> isn’t
expected to return a unique value (it just reduces the chance of
collision), this doesn’t try to increase entropy by including other
values. The primary concern is that hashes of equal keys are
equal, not the other way around.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__le__">
<code class="sig-name descname">__le__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__le__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>Less than or equal ordering.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__lt__">
<code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__lt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Less than ordering.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>String representation used by <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str()</span></code></a> and <a class="reference external" href="https://docs.python.org/3/library/functions.html#repr" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a>.</p>
<p>We produce a short string that conveys all relevant information,
suppressing app and namespace when they are equal to the default.
In many cases, this string should be able to be used to invoke the
constructor.</p>
<p>For example:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;hi&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="go">&quot;Key(&#39;hi&#39;, 100)&quot;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;bye&quot;</span><span class="p">,</span> <span class="s2">&quot;hundred&quot;</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="s2">&quot;specific&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;space&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="go">&quot;Key(&#39;bye&#39;, &#39;hundred&#39;, app=&#39;specific&#39;, namespace=&#39;space&#39;)&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__setstate__">
<code class="sig-name descname">__setstate__</code><span class="sig-paren">(</span><em class="sig-param">state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__setstate__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__setstate__" title="Permalink to this definition">¶</a></dt>
<dd><p>Private API used for unpickling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>Tuple</em><em>[</em><em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Any</em><em>]</em><em>]</em>) – A tuple containing a single
dictionary of pickled state. This should match the signature
returned from <a class="reference internal" href="#google.cloud.ndb.key.Key.__getstate__" title="google.cloud.ndb.key.Key.__getstate__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__getstate__()</span></code></a>, in particular, it should
have three keys <code class="docutils literal notranslate"><span class="pre">pairs</span></code>, <code class="docutils literal notranslate"><span class="pre">app</span></code> and <code class="docutils literal notranslate"><span class="pre">namespace</span></code>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">state</span></code> does not have length 1.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If the single element in <code class="docutils literal notranslate"><span class="pre">state</span></code> is not a dictionary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#google.cloud.ndb.key.Key.__repr__" title="google.cloud.ndb.key.Key.__repr__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.app">
<code class="sig-name descname">app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.app" title="Permalink to this definition">¶</a></dt>
<dd><p>The project ID for the key.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This <strong>may</strong> differ from the original <code class="docutils literal notranslate"><span class="pre">app</span></code> passed in to the
constructor. This is because prefixed application IDs like
<code class="docutils literal notranslate"><span class="pre">s~example</span></code> are “legacy” identifiers from Google App Engine.
They have been replaced by equivalent project IDs, e.g. here it
would be <code class="docutils literal notranslate"><span class="pre">example</span></code>.</p>
</div>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="s2">&quot;s~example&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">app</span><span class="p">()</span>
<span class="go">&#39;example&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">app</span><span class="p">()</span>
<span class="go">&#39;example&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronously delete the entity for this key.</p>
<p>This is a no-op if no such entity exists.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If in a transaction, the entity can only be deleted at transaction
commit time. In that case, this function will schedule the entity
to be deleted as part of the transaction and will return
immediately, which is effectively the same as calling
<a class="reference internal" href="#google.cloud.ndb.key.Key.delete_async" title="google.cloud.ndb.key.Key.delete_async"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_async()</span></code></a> and ignoring the returned future. If not in a
transaction, this function will block synchronously until the
entity is deleted, as one would expect.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.delete_async">
<code class="sig-name descname">delete_async</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.delete_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.delete_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule deletion of the entity for this key.</p>
<p>The result of the returned future becomes available once the
deletion is complete. In all cases the future’s result is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>
(i.e. there is no way to tell whether the entity existed or not).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.flat">
<code class="sig-name descname">flat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.flat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.flat" title="Permalink to this definition">¶</a></dt>
<dd><p>The flat path for the key.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Satellite&quot;</span><span class="p">,</span> <span class="s2">&quot;Moon&quot;</span><span class="p">,</span> <span class="s2">&quot;Space&quot;</span><span class="p">,</span> <span class="s2">&quot;Dust&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">flat</span><span class="p">()</span>
<span class="go">(&#39;Satellite&#39;, &#39;Moon&#39;, &#39;Space&#39;, &#39;Dust&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partial_key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Known&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partial_key</span><span class="o">.</span><span class="n">flat</span><span class="p">()</span>
<span class="go">(&#39;Known&#39;, None)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.from_old_key">
<em class="property">classmethod </em><code class="sig-name descname">from_old_key</code><span class="sig-paren">(</span><em class="sig-param">old_key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.from_old_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.from_old_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory constructor to convert from an “old”-style datastore key.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">old_key</span></code> was expected to be a <code class="docutils literal notranslate"><span class="pre">google.appengine.ext.db.Key</span></code>
(which was an alias for <code class="docutils literal notranslate"><span class="pre">google.appengine.api.datastore_types.Key</span></code>).</p>
<p>However, the <code class="docutils literal notranslate"><span class="pre">google.appengine.ext.db</span></code> module was part of the legacy
Google App Engine runtime and is not generally available.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – Always.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronously get the entity for this key.</p>
<p>Returns the retrieved <a class="reference internal" href="model.html#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> if there is no
such entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Union[<a class="reference internal" href="model.html#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.get_async">
<code class="sig-name descname">get_async</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.get_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.get_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Asynchronously get the entity for this key.</p>
<p>The result for the returned future will either be the retrieved
<a class="reference internal" href="model.html#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> if there is no such entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future"><code class="xref py py-class docutils literal notranslate"><span class="pre">Future</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.id">
<code class="sig-name descname">id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The string or integer ID in the last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair, if any.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_int</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_int</span><span class="o">.</span><span class="n">id</span><span class="p">()</span>
<span class="go">37</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_str</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_str</span><span class="o">.</span><span class="n">id</span><span class="p">()</span>
<span class="go">&#39;B&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_partial</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_partial</span><span class="o">.</span><span class="n">id</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.integer_id">
<code class="sig-name descname">integer_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.integer_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.integer_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The string ID in the last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair, if any.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_int</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_int</span><span class="o">.</span><span class="n">integer_id</span><span class="p">()</span>
<span class="go">37</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_str</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_str</span><span class="o">.</span><span class="n">integer_id</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_partial</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_partial</span><span class="o">.</span><span class="n">integer_id</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.kind">
<code class="sig-name descname">kind</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.kind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>The kind of the entity referenced.</p>
<p>This comes from the last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Satellite&quot;</span><span class="p">,</span> <span class="s2">&quot;Moon&quot;</span><span class="p">,</span> <span class="s2">&quot;Space&quot;</span><span class="p">,</span> <span class="s2">&quot;Dust&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span>
<span class="go">&#39;Space&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partial_key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Known&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partial_key</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span>
<span class="go">&#39;Known&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.namespace">
<code class="sig-name descname">namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>The namespace for the key, if set.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">namespace</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;rock&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">namespace</span><span class="p">()</span>
<span class="go">&#39;rock&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.pairs">
<code class="sig-name descname">pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs for the key.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Satellite&quot;</span><span class="p">,</span> <span class="s2">&quot;Moon&quot;</span><span class="p">,</span> <span class="s2">&quot;Space&quot;</span><span class="p">,</span> <span class="s2">&quot;Dust&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">pairs</span><span class="p">()</span>
<span class="go">((&#39;Satellite&#39;, &#39;Moon&#39;), (&#39;Space&#39;, &#39;Dust&#39;))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partial_key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Known&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">partial_key</span><span class="o">.</span><span class="n">pairs</span><span class="p">()</span>
<span class="go">((&#39;Known&#39;, None),)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.parent">
<code class="sig-name descname">parent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.parent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Parent key constructed from all but the last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pairs.</p>
<p>If there is only one <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair, return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">pairs</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="s2">&quot;Purchase&quot;</span><span class="p">,</span> <span class="s2">&quot;Food&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">(</span><span class="s2">&quot;Type&quot;</span><span class="p">,</span> <span class="s2">&quot;Drink&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="p">(</span><span class="s2">&quot;Coffee&quot;</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent</span>
<span class="go">Key(&#39;Purchase&#39;, &#39;Food&#39;, &#39;Type&#39;, &#39;Drink&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandparent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandparent</span>
<span class="go">Key(&#39;Purchase&#39;, &#39;Food&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grandparent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.reference">
<code class="sig-name descname">reference</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.reference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.reference" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">Reference</span></code> protobuf object for this key.</p>
<p>The return value will be stored on the current key, so the caller
promises not to mutate it.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Trampoline&quot;</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="s2">&quot;xy&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;zt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">reference</span><span class="p">()</span>
<span class="go">app: &quot;xy&quot;</span>
<span class="go">path {</span>
<span class="go">  Element {</span>
<span class="go">    type: &quot;Trampoline&quot;</span>
<span class="go">    id: 88</span>
<span class="go">  }</span>
<span class="go">}</span>
<span class="go">name_space: &quot;zt&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.root">
<code class="sig-name descname">root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.root" title="Permalink to this definition">¶</a></dt>
<dd><p>The root key.</p>
<p>This is either the current key or the highest parent.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;steak&quot;</span><span class="p">,</span> <span class="s2">&quot;sauce&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">root</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_key</span>
<span class="go">Key(&#39;a&#39;, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root_key</span><span class="o">.</span><span class="n">root</span><span class="p">()</span> <span class="ow">is</span> <span class="n">root_key</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.serialized">
<code class="sig-name descname">serialized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.serialized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.serialized" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">Reference</span></code> protobuf serialized to bytes.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Kind&quot;</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">serialized</span><span class="p">()</span>
<span class="go">b&#39;j\x07exampler\x0b\x0b\x12\x04Kind\x18\xb9\n\x0c&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.string_id">
<code class="sig-name descname">string_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.string_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.string_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The string ID in the last <code class="docutils literal notranslate"><span class="pre">(kind,</span> <span class="pre">id)</span></code> pair, if any.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_int</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_int</span><span class="o">.</span><span class="n">string_id</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_str</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_str</span><span class="o">.</span><span class="n">string_id</span><span class="p">()</span>
<span class="go">&#39;B&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_partial</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_partial</span><span class="o">.</span><span class="n">string_id</span><span class="p">()</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.to_old_key">
<code class="sig-name descname">to_old_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.to_old_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.to_old_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to an “old”-style datastore key.</p>
<p>See <a class="reference internal" href="#google.cloud.ndb.key.Key.from_old_key" title="google.cloud.ndb.key.Key.from_old_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_old_key()</span></code></a> for more information on why this method
is not supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – Always.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.key.Key.urlsafe">
<code class="sig-name descname">urlsafe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/key.html#Key.urlsafe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.key.Key.urlsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">Reference</span></code> protobuf encoded as urlsafe base 64.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="s2">&quot;Kind&quot;</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="n">app</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">urlsafe</span><span class="p">()</span>
<span class="go">b&#39;agdleGFtcGxlcgsLEgRLaW5kGLkKDA&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ndb</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="client.html">Client</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Key</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model and Property</a></li>
<li class="toctree-l1"><a class="reference internal" href="query.html">Query</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasklets.html">Tasklets</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="polymodel.html">Polymorphic Models and Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="django-middleware.html">Django Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="msgprop.html">ProtoRPC Message Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="blobstore.html">Blobstore</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Datastore Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Datastore Statistics</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="client.html" title="previous chapter">Client</a></li>
      <li>Next: <a href="model.html" title="next chapter">Model and Property</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/key.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>