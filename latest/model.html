
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Model and Property &#8212; ndb 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Query" href="query.html" />
    <link rel="prev" title="Key" href="key.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-google.cloud.ndb.model">
<span id="model-and-property"></span><h1>Model and Property<a class="headerlink" href="#module-google.cloud.ndb.model" title="Permalink to this headline">¶</a></h1>
<p>Model classes for datastore objects and properties for models.</p>
<p>A model class represents the structure of entities stored in the datastore.
Applications define model classes to indicate the structure of their entities,
then instantiate those model classes to create entities.</p>
<p>All model classes must inherit (directly or indirectly) from Model. Through
the magic of metaclasses, straightforward assignments in the model class
definition can be used to declare the model’s structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
    <span class="n">age</span> <span class="o">=</span> <span class="n">IntegerProperty</span><span class="p">()</span>
</pre></div>
</div>
<p>We can now create a Person entity and write it to Cloud Datastore:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Arthur Dent&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="n">put</span><span class="p">()</span>
</pre></div>
</div>
<p>The return value from put() is a Key (see the documentation for ndb/key.py),
which can be used to retrieve the same entity later:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person2</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<span class="n">person2</span> <span class="o">==</span> <span class="n">person</span>  <span class="c1"># Returns True</span>
</pre></div>
</div>
<p>To update an entity, simply change its attributes and write it back (note that
this doesn’t change the key):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">person2</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Arthur Philip Dent&#39;</span>
<span class="n">person2</span><span class="o">.</span><span class="n">put</span><span class="p">()</span>
</pre></div>
</div>
<p>We can also delete an entity (by using the key):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">key</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
<p>The property definitions in the class body tell the system the names and the
types of the fields to be stored in Cloud Datastore, whether they must be
indexed, their default value, and more.</p>
<p>Many different Property types exist.  Most are indexed by default, the
exceptions are indicated in the list below:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#google.cloud.ndb.model.StringProperty" title="google.cloud.ndb.model.StringProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringProperty</span></code></a>: a short text string, limited to at most 1500 bytes (when
UTF-8 encoded from <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> to bytes).</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.TextProperty" title="google.cloud.ndb.model.TextProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextProperty</span></code></a>: an unlimited text string; unindexed.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.BlobProperty" title="google.cloud.ndb.model.BlobProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobProperty</span></code></a>: an unlimited byte string; unindexed.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.IntegerProperty" title="google.cloud.ndb.model.IntegerProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegerProperty</span></code></a>: a 64-bit signed integer.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.FloatProperty" title="google.cloud.ndb.model.FloatProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">FloatProperty</span></code></a>: a double precision floating point number.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.BooleanProperty" title="google.cloud.ndb.model.BooleanProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanProperty</span></code></a>: a bool value.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.DateTimeProperty" title="google.cloud.ndb.model.DateTimeProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTimeProperty</span></code></a>: a datetime object.  Note: Datastore always uses UTC as the
timezone.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.DateProperty" title="google.cloud.ndb.model.DateProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateProperty</span></code></a>: a date object.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.TimeProperty" title="google.cloud.ndb.model.TimeProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeProperty</span></code></a>: a time object.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.GeoPtProperty" title="google.cloud.ndb.model.GeoPtProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoPtProperty</span></code></a>: a geographical location, i.e. (latitude, longitude).</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.KeyProperty" title="google.cloud.ndb.model.KeyProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyProperty</span></code></a>: a Cloud Datastore Key value, optionally constrained to referring
to a specific kind.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.UserProperty" title="google.cloud.ndb.model.UserProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserProperty</span></code></a>: a User object (for backwards compatibility only)</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.StructuredProperty" title="google.cloud.ndb.model.StructuredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructuredProperty</span></code></a>: a field that is itself structured like an entity; see
below for more details.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.LocalStructuredProperty" title="google.cloud.ndb.model.LocalStructuredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalStructuredProperty</span></code></a>: like StructuredProperty but the on-disk
representation is an opaque blob; unindexed.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.ComputedProperty" title="google.cloud.ndb.model.ComputedProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">ComputedProperty</span></code></a>: a property whose value is computed from other properties by
a user-defined function.  The property value is written to Cloud Datastore so
that it can be used in queries, but the value from Cloud Datastore is not
used when the entity is read back.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.GenericProperty" title="google.cloud.ndb.model.GenericProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericProperty</span></code></a>: a property whose type is not constrained; mostly used by the
Expando class (see below) but also usable explicitly.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.JsonProperty" title="google.cloud.ndb.model.JsonProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">JsonProperty</span></code></a>: a property whose value is any object that can be serialized
using JSON; the value written to Cloud Datastore is a JSON representation of
that object.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.PickleProperty" title="google.cloud.ndb.model.PickleProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">PickleProperty</span></code></a>: a property whose value is any object that can be serialized
using Python’s pickle protocol; the value written to the Cloud Datastore is
the pickled representation of that object, using the highest available pickle
protocol</p></li>
</ul>
<p>Most Property classes have similar constructor signatures.  They
accept several optional keyword arguments:</p>
<ul class="simple">
<li><p>name=&lt;string&gt;: the name used to store the property value in the datastore.
Unlike the following options, this may also be given as a positional
argument.</p></li>
<li><p>indexed=&lt;bool&gt;: indicates whether the property should be indexed (allowing
queries on this property’s value).</p></li>
<li><p>repeated=&lt;bool&gt;: indicates that this property can have multiple values in
the same entity.</p></li>
<li><p>write_empty_list&lt;bool&gt;: For repeated value properties, controls whether
properties with no elements (the empty list) is written to Datastore. If
true, written, if false, then nothing is written to Datastore.</p></li>
<li><p>required=&lt;bool&gt;: indicates that this property must be given a value.</p></li>
<li><p>default=&lt;value&gt;: a default value if no explicit value is given.</p></li>
<li><p>choices=&lt;list of values&gt;: a list or tuple of allowable values.</p></li>
<li><p>validator=&lt;function&gt;: a general-purpose validation function. It will be
called with two arguments (prop, value) and should either return the
validated value or raise an exception. It is also allowed for the function
to modify the value, but the function should be idempotent. For example: a
validator that returns value.strip() or value.lower() is fine, but one that
returns value + ‘$’ is not).</p></li>
<li><p>verbose_name=&lt;value&gt;: A human readable name for this property. This human
readable name can be used for html form labels.</p></li>
</ul>
<p>The repeated and required/default options are mutually exclusive: a repeated
property cannot be required nor can it specify a default value (the default is
always an empty list and an empty list is always an allowed value), but a
required property can have a default.</p>
<p>Some property types have additional arguments.  Some property types do not
support all options.</p>
<p>Repeated properties are always represented as Python lists; if there is only
one value, the list has only one element. When a new list is assigned to a
repeated property, all elements of the list are validated. Since it is also
possible to mutate lists in place, repeated properties are re-validated before
they are written to the datastore.</p>
<p>No validation happens when an entity is read from Cloud Datastore; however
property values read that have the wrong type (e.g. a string value for an
IntegerProperty) are ignored.</p>
<p>For non-repeated properties, None is always a possible value, and no validation
is called when the value is set to None. However for required properties,
writing the entity to Cloud Datastore requires the value to be something other
than None (and valid).</p>
<p>The StructuredProperty is different from most other properties; it lets you
define a sub-structure for your entities. The substructure itself is defined
using a model class, and the attribute value is an instance of that model
class. However, it is not stored in the datastore as a separate entity;
instead, its attribute values are included in the parent entity using a naming
convention (the name of the structured attribute followed by a dot followed by
the name of the subattribute). For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Address</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
  <span class="n">street</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
  <span class="n">city</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
  <span class="n">address</span> <span class="o">=</span> <span class="n">StructuredProperty</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Harry Potter&#39;</span><span class="p">,</span>
           <span class="n">address</span><span class="o">=</span><span class="n">Address</span><span class="p">(</span><span class="n">street</span><span class="o">=</span><span class="s1">&#39;4 Privet Drive&#39;</span><span class="p">,</span>
           <span class="n">city</span><span class="o">=</span><span class="s1">&#39;Little Whinging&#39;</span><span class="p">))</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">put</span><span class="p">()</span>
</pre></div>
</div>
<p>This would write a single ‘Person’ entity with three attributes (as you could
verify using the Datastore Viewer in the Admin Console):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Harry Potter&#39;</span>
<span class="n">address</span><span class="o">.</span><span class="n">street</span> <span class="o">=</span> <span class="s1">&#39;4 Privet Drive&#39;</span>
<span class="n">address</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="s1">&#39;Little Whinging&#39;</span>
</pre></div>
</div>
<p>Structured property types can be nested arbitrarily deep, but in a hierarchy of
nested structured property types, only one level can have the repeated flag
set. It is fine to have multiple structured properties referencing the same
model class.</p>
<p>It is also fine to use the same model class both as a top-level entity class
and as for a structured property; however, queries for the model class will
only return the top-level entities.</p>
<p>The LocalStructuredProperty works similar to StructuredProperty on the Python
side. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Address</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">street</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
    <span class="n">city</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">StringProperty</span><span class="p">()</span>
    <span class="n">address</span> <span class="o">=</span> <span class="n">LocalStructuredProperty</span><span class="p">(</span><span class="n">Address</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Harry Potter&#39;</span><span class="p">,</span>
           <span class="n">address</span><span class="o">=</span><span class="n">Address</span><span class="p">(</span><span class="n">street</span><span class="o">=</span><span class="s1">&#39;4 Privet Drive&#39;</span><span class="p">,</span>
           <span class="n">city</span><span class="o">=</span><span class="s1">&#39;Little Whinging&#39;</span><span class="p">))</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">put</span><span class="p">()</span>
</pre></div>
</div>
<p>However, the data written to Cloud Datastore is different; it writes a ‘Person’
entity with a ‘name’ attribute as before and a single ‘address’ attribute
whose value is a blob which encodes the Address value (using the standard
“protocol buffer” encoding).</p>
<p>The Model class offers basic query support. You can create a Query object by
calling the query() class method. Iterating over a Query object returns the
entities matching the query one at a time. Query objects are fully described
in the documentation for query, but there is one handy shortcut that is only
available through Model.query(): positional arguments are interpreted as filter
expressions which are combined through an AND operator. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Person</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Harry Potter&#39;</span><span class="p">,</span> <span class="n">Person</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Person</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Harry Potter&#39;</span><span class="p">,</span> <span class="n">Person</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
<p>Keyword arguments passed to .query() are passed along to the Query() constructor.</p>
<p>It is possible to query for field values of structured properties. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qry</span> <span class="o">=</span> <span class="n">Person</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Person</span><span class="o">.</span><span class="n">address</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;London&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A number of top-level functions also live in this module:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#google.cloud.ndb.model.get_multi" title="google.cloud.ndb.model.get_multi"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_multi()</span></code></a> reads multiple entities at once.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.put_multi" title="google.cloud.ndb.model.put_multi"><code class="xref py py-func docutils literal notranslate"><span class="pre">put_multi()</span></code></a> writes multiple entities at once.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.delete_multi" title="google.cloud.ndb.model.delete_multi"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_multi()</span></code></a> deletes multiple entities at once.</p></li>
</ul>
<p>All these have a corresponding <code class="docutils literal notranslate"><span class="pre">*_async()</span></code> variant as well. The
<code class="docutils literal notranslate"><span class="pre">*_multi_async()</span></code> functions return a list of Futures.</p>
<p>There are many other interesting features. For example, Model subclasses may
define pre-call and post-call hooks for most operations (get, put, delete,
allocate_ids), and Property classes may be subclassed to suit various needs.
Documentation for writing a Property subclass is in the docs for the
<a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> class.</p>
<dl class="class">
<dt id="google.cloud.ndb.model.BlobKey">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">BlobKey</code><span class="sig-paren">(</span><em class="sig-param">blob_key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/_datastore_types.html#BlobKey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Key used to identify a blob in the blobstore.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The blobstore was an early Google App Engine feature that later became
Google Cloud Storage.</p>
</div>
<p>This class is a simple wrapper a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object. The bytes represent
a key used internally by the Blobstore API  to identify application blobs
(i.e. Google Cloud Storage objects). The key corresponds to the entity name
of the underlying object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>blob_key</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>]</em>) – The key used for the blobstore.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">blob_key</span></code> exceeds 1500 bytes.</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">blob_key</span></code> is not <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> or a
    <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.ndb.model.GeoPt">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">GeoPt</code><a class="headerlink" href="#google.cloud.ndb.model.GeoPt" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://googleapis.github.io/google-cloud-python/latest/datastore/helpers.html#google.cloud.datastore.helpers.GeoPoint" title="(in google-cloud)"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.datastore.helpers.GeoPoint</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="google.cloud.ndb.model.KindError">
<em class="property">exception </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">KindError</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#KindError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.KindError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.exceptions.BadValueError</span></code></a></p>
<p>Raised when an implementation for a kind can’t be found.</p>
<p>May also be raised when the kind is not a byte string.</p>
</dd></dl>

<dl class="exception">
<dt id="google.cloud.ndb.model.InvalidPropertyError">
<em class="property">exception </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">InvalidPropertyError</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#InvalidPropertyError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.InvalidPropertyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.Error" title="google.cloud.ndb.exceptions.Error"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.exceptions.Error</span></code></a></p>
<p>Raised when a property is not applicable to a given use.</p>
<p>For example, a property must exist and be indexed to be used in a query’s
projection or group by clause.</p>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.ndb.model.BadProjectionError">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">BadProjectionError</code><a class="headerlink" href="#google.cloud.ndb.model.BadProjectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>This alias for <a class="reference internal" href="#google.cloud.ndb.model.InvalidPropertyError" title="google.cloud.ndb.model.InvalidPropertyError"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidPropertyError</span></code></a> is for legacy support.</p>
<p>alias of <a class="reference internal" href="#google.cloud.ndb.model.InvalidPropertyError" title="google.cloud.ndb.model.InvalidPropertyError"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.InvalidPropertyError</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="google.cloud.ndb.model.UnprojectedPropertyError">
<em class="property">exception </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">UnprojectedPropertyError</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#UnprojectedPropertyError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.UnprojectedPropertyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.Error" title="google.cloud.ndb.exceptions.Error"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.exceptions.Error</span></code></a></p>
<p>Raised when getting a property value that’s not in the projection.</p>
</dd></dl>

<dl class="exception">
<dt id="google.cloud.ndb.model.ReadonlyPropertyError">
<em class="property">exception </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">ReadonlyPropertyError</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ReadonlyPropertyError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ReadonlyPropertyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.Error" title="google.cloud.ndb.exceptions.Error"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.exceptions.Error</span></code></a></p>
<p>Raised when attempting to set a property value that is read-only.</p>
</dd></dl>

<dl class="exception">
<dt id="google.cloud.ndb.model.ComputedPropertyError">
<em class="property">exception </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">ComputedPropertyError</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ComputedPropertyError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ComputedPropertyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.ReadonlyPropertyError" title="google.cloud.ndb.model.ReadonlyPropertyError"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.ReadonlyPropertyError</span></code></a></p>
<p>Raised when attempting to set or delete a computed property.</p>
</dd></dl>

<dl class="exception">
<dt id="google.cloud.ndb.model.UserNotFoundError">
<em class="property">exception </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">UserNotFoundError</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#UserNotFoundError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.UserNotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.Error" title="google.cloud.ndb.exceptions.Error"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.exceptions.Error</span></code></a></p>
<p>No email argument was specified, and no user is logged in.</p>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.IndexProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">IndexProperty</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IndexProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IndexProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Immutable object representing a single property in an index.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.IndexProperty.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IndexProperty.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IndexProperty.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two index properties for equality.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexProperty.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IndexProperty.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IndexProperty.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexProperty.direction">
<em class="property">property </em><code class="sig-name descname">direction</code><a class="headerlink" href="#google.cloud.ndb.model.IndexProperty.direction" title="Permalink to this definition">¶</a></dt>
<dd><p>The direction in the index, <code class="docutils literal notranslate"><span class="pre">asc</span></code> or <code class="docutils literal notranslate"><span class="pre">desc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexProperty.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#google.cloud.ndb.model.IndexProperty.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The property name being indexed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.Index">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">Index</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Index" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Immutable object representing an index.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.Index.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Index.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Index.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two indexes.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Index.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Index.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Index.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Index.ancestor">
<em class="property">property </em><code class="sig-name descname">ancestor</code><a class="headerlink" href="#google.cloud.ndb.model.Index.ancestor" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if this is an ancestor index.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Index.kind">
<em class="property">property </em><code class="sig-name descname">kind</code><a class="headerlink" href="#google.cloud.ndb.model.Index.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>The kind being indexed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Index.properties">
<em class="property">property </em><code class="sig-name descname">properties</code><a class="headerlink" href="#google.cloud.ndb.model.Index.properties" title="Permalink to this definition">¶</a></dt>
<dd><p>The properties being indexed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#google.cloud.ndb.model.IndexProperty" title="google.cloud.ndb.model.IndexProperty">IndexProperty</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.IndexState">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">IndexState</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IndexState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IndexState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Immutable object representing an index and its state.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.IndexState.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IndexState.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IndexState.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two index states.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexState.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IndexState.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IndexState.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representation.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexState.definition">
<em class="property">property </em><code class="sig-name descname">definition</code><a class="headerlink" href="#google.cloud.ndb.model.IndexState.definition" title="Permalink to this definition">¶</a></dt>
<dd><p>The index corresponding to the tracked state.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#google.cloud.ndb.model.Index" title="google.cloud.ndb.model.Index">Index</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexState.id">
<em class="property">property </em><code class="sig-name descname">id</code><a class="headerlink" href="#google.cloud.ndb.model.IndexState.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The index ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.IndexState.state">
<em class="property">property </em><code class="sig-name descname">state</code><a class="headerlink" href="#google.cloud.ndb.model.IndexState.state" title="Permalink to this definition">¶</a></dt>
<dd><p>The index state.</p>
<p>Possible values are <code class="docutils literal notranslate"><span class="pre">error</span></code>, <code class="docutils literal notranslate"><span class="pre">deleting</span></code>, <code class="docutils literal notranslate"><span class="pre">serving</span></code> or
<code class="docutils literal notranslate"><span class="pre">building</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.ModelAdapter">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">ModelAdapter</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ModelAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ModelAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.make_connection">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">make_connection</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#make_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.make_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.ModelAttribute">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">ModelAttribute</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ModelAttribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ModelAttribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base for classes that implement a <code class="docutils literal notranslate"><span class="pre">_fix_up()</span></code> method.</p>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.Property">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">Property</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.ModelAttribute" title="google.cloud.ndb.model.ModelAttribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.ModelAttribute</span></code></a></p>
<p>A class describing a typed, persisted attribute of an entity.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is not to be confused with Python’s <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> built-in.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is just a base class; there are specific subclasses that
describe properties of various types (and <a class="reference internal" href="#google.cloud.ndb.model.GenericProperty" title="google.cloud.ndb.model.GenericProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericProperty</span></code></a>
which describes a dynamically typed property).</p>
</div>
<p>The <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> does not reserve any “public” names (i.e. names
that don’t start with an underscore). This is intentional; the subclass
<a class="reference internal" href="#google.cloud.ndb.model.StructuredProperty" title="google.cloud.ndb.model.StructuredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructuredProperty</span></code></a> uses the public attribute namespace to refer to
nested property names (this is essential for specifying queries on
subproperties).</p>
<p>The <a class="reference internal" href="#google.cloud.ndb.model.Property.IN" title="google.cloud.ndb.model.Property.IN"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IN()</span></code></a> attribute is provided as an alias for <code class="docutils literal notranslate"><span class="pre">_IN</span></code>, but <code class="docutils literal notranslate"><span class="pre">IN</span></code>
can be overridden if a subproperty has the same name.</p>
<p>The <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> class and its predefined subclasses allow easy
subclassing using composable (or stackable) validation and
conversion APIs. These require some terminology definitions:</p>
<ul class="simple">
<li><p>A <strong>user value</strong> is a value such as would be set and accessed by the
application code using standard attributes on the entity.</p></li>
<li><p>A <strong>base value</strong> is a value such as would be serialized to
and deserialized from Cloud Datastore.</p></li>
</ul>
<p>A property will be a member of a <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> and will be used to help
store values in an <code class="docutils literal notranslate"><span class="pre">entity</span></code> (i.e. instance of a model subclass). The
underlying stored values can be either user values or base values.</p>
<p>To interact with the composable conversion and validation API, a
<a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> subclass can define</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_to_base_type()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_from_base_type()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_validate()</span></code></p></li>
</ul>
<p>These should <strong>not</strong> call their <code class="docutils literal notranslate"><span class="pre">super()</span></code> method, since the methods
are meant to be composed. For example with composable validation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Positive</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">IntegerProperty</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ndb</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">BadValueError</span><span class="p">(</span><span class="s2">&quot;Non-positive&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">SingleDigit</span><span class="p">(</span><span class="n">Positive</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">9</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ndb</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">BadValueError</span><span class="p">(</span><span class="s2">&quot;Multi-digit&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>neither <code class="docutils literal notranslate"><span class="pre">_validate()</span></code> method calls <code class="docutils literal notranslate"><span class="pre">super()</span></code>. Instead, when a
<code class="docutils literal notranslate"><span class="pre">SingleDigit</span></code> property validates a value, it composes all validation
calls in order:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SingleDigit._validate</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Positive._validate</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntegerProperty._validate</span></code></p></li>
</ul>
<p>The API supports “stacking” classes with ever more sophisticated
user / base conversions:</p>
<ul class="simple">
<li><p>the user to base conversion goes from more sophisticated to less
sophisticated</p></li>
<li><p>the base to user conversion goes from less sophisticated to more
sophisticated</p></li>
</ul>
<p>For example, see the relationship between <a class="reference internal" href="#google.cloud.ndb.model.BlobProperty" title="google.cloud.ndb.model.BlobProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobProperty</span></code></a>,
<a class="reference internal" href="#google.cloud.ndb.model.TextProperty" title="google.cloud.ndb.model.TextProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextProperty</span></code></a> and <a class="reference internal" href="#google.cloud.ndb.model.StringProperty" title="google.cloud.ndb.model.StringProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringProperty</span></code></a>.</p>
<p>The validation API distinguishes between “lax” and “strict” user values.
The set of lax values is a superset of the set of strict values. The
<code class="docutils literal notranslate"><span class="pre">_validate()</span></code> method takes a lax value and if necessary converts it to
a strict value. For example, an integer (lax) can be converted to a
floating point (strict) value. This means that when setting the property
value, lax values are accepted, while when getting the property value, only
strict values will be returned. If no conversion is needed, <code class="docutils literal notranslate"><span class="pre">_validate()</span></code>
may return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>. If the argument is outside the set of accepted lax
values, <code class="docutils literal notranslate"><span class="pre">_validate()</span></code> should raise an exception, preferably
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> or <a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadValueError</span></code></a>.</p>
<p>A class utilizing all three may resemble:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">WidgetProperty</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Property</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># Lax user value to strict user value.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Widget</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">nbd</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">BadValueError</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_to_base_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># (Strict) user value to base value.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Widget</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">to_internal</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_from_base_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># Base value to (strict) user value.&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">_WidgetInternal</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Widget</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>There are some things that <code class="docutils literal notranslate"><span class="pre">_validate()</span></code>, <code class="docutils literal notranslate"><span class="pre">_to_base_type()</span></code> and
<code class="docutils literal notranslate"><span class="pre">_from_base_type()</span></code> do <strong>not</strong> need to handle:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>: They will not be called with <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> (and if they
return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, this means that the value does not need conversion).</p></li>
<li><p>Repeated values: The infrastructure takes care of calling
<code class="docutils literal notranslate"><span class="pre">_from_base_type()</span></code> or <code class="docutils literal notranslate"><span class="pre">_to_base_type()</span></code> for each list item in a
repeated value.</p></li>
<li><p>Wrapping “base” values: The wrapping and unwrapping is taken care of by
the infrastructure that calls the composable APIs.</p></li>
<li><p>Comparisons: The comparison operations call <code class="docutils literal notranslate"><span class="pre">_to_base_type()</span></code> on
their operand.</p></li>
<li><p>Distinguishing between user and base values: the infrastructure
guarantees that <code class="docutils literal notranslate"><span class="pre">_from_base_type()</span></code> will be called with an
(unwrapped) base value, and that <code class="docutils literal notranslate"><span class="pre">_to_base_type()</span></code> will be called
with a user value.</p></li>
<li><p>Returning the original value: if any of these return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, the
original value is kept. (Returning a different value not equal to
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> will substitute the different value.)</p></li>
</ul>
<p>Additionally, <a class="reference internal" href="#google.cloud.ndb.model.Property._prepare_for_put" title="google.cloud.ndb.model.Property._prepare_for_put"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_prepare_for_put()</span></code></a> can be used to integrate with
datastore save hooks used by <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> instances.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.Property._prepare_for_put">
<code class="sig-name descname">_prepare_for_put</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property._prepare_for_put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property._prepare_for_put" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow this property to define a pre-put hook.</p>
<p>This base class implementation does nothing, but subclasses may
provide hooks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><em>Model</em></a>) – An entity with values.</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>indexed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be indexed.</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<em>Any</em>) – The default value for this property.</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><em>Any</em><em>]</em>) – A container of allowed values for this
property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="google.cloud.ndb.model.Property.IN">
<code class="sig-name descname">IN</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Property.IN" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to check if a property value is contained in a set of values.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">rank</span><span class="o">.</span><span class="n">IN</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__delete__">
<code class="sig-name descname">__delete__</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__delete__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__delete__" title="Permalink to this definition">¶</a></dt>
<dd><p>Descriptor protocol: delete the value from the entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><em>Model</em></a>) – An entity to delete a value from.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>FilterNode: Represents the <code class="docutils literal notranslate"><span class="pre">=</span></code> comparison.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__ge__">
<code class="sig-name descname">__ge__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__ge__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__ge__" title="Permalink to this definition">¶</a></dt>
<dd><p>FilterNode: Represents the <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> comparison.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__get__">
<code class="sig-name descname">__get__</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">unused_cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__get__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__get__" title="Permalink to this definition">¶</a></dt>
<dd><p>Descriptor protocol: get the value from the entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><em>Model</em></a>) – An entity to get a value from.</p></li>
<li><p><strong>unused_cls</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.7)"><em>type</em></a>) – The class that owns this instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__gt__">
<code class="sig-name descname">__gt__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__gt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__gt__" title="Permalink to this definition">¶</a></dt>
<dd><p>FilterNode: Represents the <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> comparison.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__le__">
<code class="sig-name descname">__le__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__le__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>FilterNode: Represents the <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> comparison.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__lt__">
<code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__lt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>FilterNode: Represents the <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> comparison.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__ne__">
<code class="sig-name descname">__ne__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__ne__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>FilterNode: Represents the <code class="docutils literal notranslate"><span class="pre">!=</span></code> comparison.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__neg__">
<code class="sig-name descname">__neg__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__neg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__neg__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a descending sort order on this property.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="o">-</span><span class="n">Employee</span><span class="o">.</span><span class="n">rank</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__pos__">
<code class="sig-name descname">__pos__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__pos__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__pos__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an ascending sort order on this property.</p>
<p>Note that this is redundant but provided for consistency with
<a class="reference internal" href="#google.cloud.ndb.model.Property.__neg__" title="google.cloud.ndb.model.Property.__neg__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__neg__()</span></code></a>. For example, the following two are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="o">+</span><span class="n">Employee</span><span class="o">.</span><span class="n">rank</span><span class="p">)</span>
<span class="n">Employee</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">rank</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a compact unambiguous string representation of a property.</p>
<p>This cycles through all stored attributes and displays the ones that
differ from the default values.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Property.__set__">
<code class="sig-name descname">__set__</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Property.__set__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Property.__set__" title="Permalink to this definition">¶</a></dt>
<dd><p>Descriptor protocol: set the value on the entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><em>Model</em></a>) – An entity to set a value on.</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – The value to set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.ModelKey">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">ModelKey</code><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ModelKey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ModelKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>Special property to store a special “key” for a <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>.</p>
<p>This is intended to be used as a psuedo-<a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> on each
<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> subclass. It is <strong>not</strong> intended for other usage in
application code.</p>
<p>It allows key-only queries to be done for a given kind.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.ModelKey._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ModelKey._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ModelKey._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The passed-in <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key">Key</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.BooleanProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">BooleanProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BooleanProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BooleanProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains values of type bool.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.BooleanProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BooleanProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BooleanProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The passed-in <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.IntegerProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">IntegerProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IntegerProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IntegerProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains values of type integer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a value is a <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, it will be coerced to <code class="docutils literal notranslate"><span class="pre">0</span></code> (for
<a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">False</span></code></a>) or <code class="docutils literal notranslate"><span class="pre">1</span></code> (for <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">True</span></code></a>).</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.IntegerProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#IntegerProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.IntegerProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – The value to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The passed-in <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> or convertible
    to one.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.FloatProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">FloatProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#FloatProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.FloatProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains values of type float.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a value is a <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, it will be
coerced to a floating point value.</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.FloatProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#FloatProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.FloatProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – The value to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The passed-in <code class="docutils literal notranslate"><span class="pre">value</span></code>, possibly converted to a
<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)">float</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> or convertible
    to one.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.BlobProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">BlobProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">compressed=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BlobProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains values that are byte strings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike most property types, a <a class="reference internal" href="#google.cloud.ndb.model.BlobProperty" title="google.cloud.ndb.model.BlobProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobProperty</span></code></a> is <strong>not</strong>
indexed by default.</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.BlobProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BlobProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value. If the current property is
compressed, this will return a wrapped version of the compressed
value. Otherwise, it will return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> to indicate that
the value didn’t need to be converted.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)">bytes</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.BlobProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BlobProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value. If the current property is
a (wrapped) compressed value, this will unwrap the value and return
the decompressed form. Otherwise, it will return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> to
indicate that the value didn’t need to be unwrapped and
decompressed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)">bytes</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.BlobProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BlobProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If the current property is indexed but the value
    exceeds the maximum length (1500 bytes).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be compressed (via
<code class="docutils literal notranslate"><span class="pre">zlib</span></code>).</p></li>
<li><p><strong>indexed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be indexed.</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The default value for this property.</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>]</em>) – A container of allowed values for this
property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – If the property is both compressed and indexed.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.TextProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">TextProperty</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TextProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TextProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>An unindexed property that contains UTF-8 encoded text values.</p>
<p>A <a class="reference internal" href="#google.cloud.ndb.model.TextProperty" title="google.cloud.ndb.model.TextProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextProperty</span></code></a> is intended for values of unlimited length, hence
is <strong>not</strong> indexed. Previously, a <a class="reference internal" href="#google.cloud.ndb.model.TextProperty" title="google.cloud.ndb.model.TextProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextProperty</span></code></a> could be indexed
via:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Item</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">TextProperty</span><span class="p">(</span><span class="n">indexed</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>but this usage is no longer supported. If indexed text is desired, a
<a class="reference internal" href="#google.cloud.ndb.model.StringProperty" title="google.cloud.ndb.model.StringProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringProperty</span></code></a> should be used instead.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.TextProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TextProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TextProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is a
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, this will return the UTF-8 decoded <code class="docutils literal notranslate"><span class="pre">str</span></code> for it.
Otherwise, it will return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.TextProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TextProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TextProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Older versions of <code class="docutils literal notranslate"><span class="pre">ndb</span></code> could write non-UTF-8 <code class="docutils literal notranslate"><span class="pre">TEXT</span></code>
properties. This means that if <code class="docutils literal notranslate"><span class="pre">value</span></code> is <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, but is
not a valid UTF-8 encoded string, it can’t (necessarily) be
rejected. But, <a class="reference internal" href="#google.cloud.ndb.model.TextProperty._validate" title="google.cloud.ndb.model.TextProperty._validate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_validate()</span></code></a> now rejects such values, so it’s
not possible to write new non-UTF-8 <code class="docutils literal notranslate"><span class="pre">TEXT</span></code> properties.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is a a valid UTF-8
encoded <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> string, this will return the decoded
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> corresponding to it. Otherwise, it will return
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.TextProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TextProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TextProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, but is not a valid
    UTF-8 encoded string.</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is neither <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> nor
    <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If the current property is indexed but the UTF-8
    encoded value exceeds the maximum length (1500 bytes).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">indexed=True</span></code> is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.StringProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">StringProperty</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#StringProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.StringProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.TextProperty" title="google.cloud.ndb.model.TextProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.TextProperty</span></code></a></p>
<p>An indexed property that contains UTF-8 encoded text values.</p>
<p>This is nearly identical to <a class="reference internal" href="#google.cloud.ndb.model.TextProperty" title="google.cloud.ndb.model.TextProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextProperty</span></code></a>, but is indexed. Values
must be at most 1500 bytes (when UTF-8 encoded from <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> to bytes).</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">indexed=False</span></code> is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.GeoPtProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">GeoPtProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#GeoPtProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.GeoPtProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains <a class="reference internal" href="#google.cloud.ndb.model.GeoPt" title="google.cloud.ndb.model.GeoPt"><code class="xref py py-attr docutils literal notranslate"><span class="pre">GeoPt</span></code></a> values.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.GeoPtProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#GeoPtProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.GeoPtProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://googleapis.github.io/google-cloud-python/latest/datastore/helpers.html#google.cloud.datastore.helpers.GeoPoint" title="(in google-cloud)"><em>GeoPoint</em></a>) – The value to
check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference internal" href="#google.cloud.ndb.model.GeoPt" title="google.cloud.ndb.model.GeoPt"><code class="xref py py-attr docutils literal notranslate"><span class="pre">GeoPt</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.PickleProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">PickleProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">compressed=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#PickleProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.PickleProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.BlobProperty" title="google.cloud.ndb.model.BlobProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.BlobProperty</span></code></a></p>
<p>A property that contains values that are pickle-able.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike most property types, a <a class="reference internal" href="#google.cloud.ndb.model.PickleProperty" title="google.cloud.ndb.model.PickleProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">PickleProperty</span></code></a> is <strong>not</strong>
indexed by default.</p>
</div>
<p>This will use <a class="reference external" href="https://docs.python.org/3/library/pickle.html#pickle.dumps" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.dumps()</span></code></a> with the highest available pickle
protocol to convert to bytes and <a class="reference external" href="https://docs.python.org/3/library/pickle.html#pickle.loads" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.loads()</span></code></a> to convert <strong>from</strong>
bytes. The base value stored in the datastore will be the pickled bytes.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.PickleProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#PickleProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.PickleProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Any</em>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The pickled <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.PickleProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#PickleProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.PickleProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The unpickled <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.JsonProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">JsonProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">compressed=None</em>, <em class="sig-param">json_type=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#JsonProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.JsonProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.BlobProperty" title="google.cloud.ndb.model.BlobProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.BlobProperty</span></code></a></p>
<p>A property that contains JSON-encodable values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike most property types, a <a class="reference internal" href="#google.cloud.ndb.model.JsonProperty" title="google.cloud.ndb.model.JsonProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">JsonProperty</span></code></a> is <strong>not</strong>
indexed by default.</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.JsonProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#JsonProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.JsonProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Any</em>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <code class="docutils literal notranslate"><span class="pre">value</span></code>, JSON encoded as an ASCII byte string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.JsonProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#JsonProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.JsonProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <code class="docutils literal notranslate"><span class="pre">value</span></code> (ASCII bytes or string) loaded as JSON.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.JsonProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#JsonProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.JsonProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Any</em>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If the current property has a JSON type set and
    <code class="docutils literal notranslate"><span class="pre">value</span></code> is not an instance of that type.</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be compressed (via
<code class="docutils literal notranslate"><span class="pre">zlib</span></code>).</p></li>
<li><p><strong>json_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.7)"><em>type</em></a>) – The expected type of values that this property can
hold. If <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>, any type is allowed.</p></li>
<li><p><strong>indexed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be indexed.</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<em>Any</em>) – The default value for this property.</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><em>Any</em><em>]</em>) – A container of allowed values for this
property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.User">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">User</code><span class="sig-paren">(</span><em class="sig-param">email=None</em>, <em class="sig-param">_auth_domain=None</em>, <em class="sig-param">_user_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides the email address, nickname, and ID for a Google Accounts user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is a port of <code class="docutils literal notranslate"><span class="pre">google.appengine.api.users.User</span></code>.
In the (legacy) Google App Engine standard environment, this
constructor relied on several environment variables to provide a
fallback for inputs. In particular:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AUTH_DOMAIN</span></code> for the <code class="docutils literal notranslate"><span class="pre">_auth_domain</span></code> argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">USER_EMAIL</span></code> for the <code class="docutils literal notranslate"><span class="pre">email</span></code> argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">USER_ID</span></code> for the <code class="docutils literal notranslate"><span class="pre">_user_id</span></code> argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FEDERATED_IDENTITY</span></code> for the (now removed) <code class="docutils literal notranslate"><span class="pre">federated_identity</span></code>
argument</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FEDERATED_PROVIDER</span></code> for the (now removed) <code class="docutils literal notranslate"><span class="pre">federated_provider</span></code>
argument</p></li>
</ul>
<p>However in the gVisor Google App Engine runtime (e.g. Python 3.7),
none of these environment variables will be populated.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Previous versions of the Google Cloud Datastore API had an explicit
<code class="docutils literal notranslate"><span class="pre">UserValue</span></code> field. However, the <code class="docutils literal notranslate"><span class="pre">google.datastore.v1</span></code> API returns
previously stored user values as an <code class="docutils literal notranslate"><span class="pre">Entity</span></code> with the meaning set to
<code class="docutils literal notranslate"><span class="pre">ENTITY_USER=20</span></code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">federated_identity</span></code> and <code class="docutils literal notranslate"><span class="pre">federated_provider</span></code> are
decommissioned and have been removed from the constructor. Additionally
<code class="docutils literal notranslate"><span class="pre">_strict_mode</span></code> has been removed from the constructor and the
<code class="docutils literal notranslate"><span class="pre">federated_identity()</span></code> and <code class="docutils literal notranslate"><span class="pre">federated_provider()</span></code> methods have been
removed from this class.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>email</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The user’s email address.</p></li>
<li><p><strong>_auth_domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The auth domain for the current application.</p></li>
<li><p><strong>_user_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The user ID.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">_auth_domain</span></code> is not passed in.</p></li>
<li><p><a class="reference internal" href="#google.cloud.ndb.model.UserNotFoundError" title="google.cloud.ndb.model.UserNotFoundError"><strong>UserNotFoundError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">email</span></code> is empty.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="google.cloud.ndb.model.User.add_to_entity">
<code class="sig-name descname">add_to_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User.add_to_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User.add_to_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the user value to a datastore entity.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This assumes, but does not check, that <code class="docutils literal notranslate"><span class="pre">name</span></code> is not already
set on <code class="docutils literal notranslate"><span class="pre">entity</span></code> or in the meanings of <code class="docutils literal notranslate"><span class="pre">entity</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<a class="reference external" href="https://googleapis.github.io/google-cloud-python/latest/datastore/entities.html#google.cloud.datastore.entity.Entity" title="(in google-cloud)"><em>Entity</em></a>) – An entity that
contains a user value as the field <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the field containing this user value.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.User.auth_domain">
<code class="sig-name descname">auth_domain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User.auth_domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User.auth_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the user’s authentication domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The authentication domain. This method is internal and
should not be used by client applications.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.User.email">
<code class="sig-name descname">email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User.email"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User.email" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the user’s email address.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.User.nickname">
<code class="sig-name descname">nickname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User.nickname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User.nickname" title="Permalink to this definition">¶</a></dt>
<dd><p>The nickname for this user.</p>
<p>A nickname is a human-readable string that uniquely identifies a Google
user with respect to this application, akin to a username. For some
users, this nickname is an email address or part of the email address.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The nickname of the user.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.User.read_from_entity">
<em class="property">classmethod </em><code class="sig-name descname">read_from_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User.read_from_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User.read_from_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the user value to a datastore entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<a class="reference external" href="https://googleapis.github.io/google-cloud-python/latest/datastore/entities.html#google.cloud.datastore.entity.Entity" title="(in google-cloud)"><em>Entity</em></a>) – An entity that
contains a user value as the field <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the field containing this user value.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the stored meaning for the <code class="docutils literal notranslate"><span class="pre">name</span></code> field is not
    equal to <code class="docutils literal notranslate"><span class="pre">ENTITY_USER=20</span></code>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the value stored in the meanings for <code class="docutils literal notranslate"><span class="pre">entity</span></code>
    is not the actual stored value under <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.User.user_id">
<code class="sig-name descname">user_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#User.user_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.User.user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the user ID of the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A permanent unique identifying string or
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>. If the email address was set explicity, this will
return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.UserProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">UserProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">auto_current_user=None</em>, <em class="sig-param">auto_current_user_add=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#UserProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.UserProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This exists for backwards compatibility with existing Cloud Datastore
schemas only; storing <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> objects directly in Cloud
Datastore is not recommended.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">auto_current_user</span></code> and <code class="docutils literal notranslate"><span class="pre">auto_current_user_add</span></code> arguments are
no longer supported.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On Google App Engine standard, after saving a <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> the user ID
would automatically be populated by the datastore, even if it wasn’t
set in the <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> value being stored. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Simple</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">u</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">UserProperty</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span> <span class="o">=</span> <span class="n">Simple</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="n">users</span><span class="o">.</span><span class="n">User</span><span class="p">(</span><span class="s2">&quot;user@example.com&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">user_id</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span><span class="o">.</span><span class="n">put</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Reload without the cached values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span> <span class="o">=</span> <span class="n">entity</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">use_cache</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">use_memcache</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">user_id</span><span class="p">()</span>
<span class="go">&#39;...9174...&#39;</span>
</pre></div>
</div>
<p>However in the gVisor Google App Engine runtime (e.g. Python 3.7),
this will behave differently. The user ID will only be stored if it
is manually set in the <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> instance, either by the running
application or by retrieving a stored <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a> that already has
a user ID set.</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.UserProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#UserProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.UserProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><em>User</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference internal" href="#google.cloud.ndb.model.User" title="google.cloud.ndb.model.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.UserProperty._prepare_for_put">
<code class="sig-name descname">_prepare_for_put</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#UserProperty._prepare_for_put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.UserProperty._prepare_for_put" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-put hook</p>
<p>This is a no-op. In previous versions of <code class="docutils literal notranslate"><span class="pre">ndb</span></code>, this method
populated the value based on <code class="docutils literal notranslate"><span class="pre">auto_current_user</span></code> or
<code class="docutils literal notranslate"><span class="pre">auto_current_user_add</span></code>, but these flags have been disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><em>Model</em></a>) – An entity with values.</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>auto_current_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Deprecated flag. When supported, if this flag
was set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">True</span></code></a>, the property value would be set to the
currently signed-in user whenever the model instance is stored in
the datastore, overwriting the property’s previous value.
This was useful for tracking which user modifies a model instance.</p></li>
<li><p><strong>auto_current_user_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Deprecated flag. When supported, if this
flag was set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">True</span></code></a>, the property value would be set to
the urrently signed-in user he first time the model instance is
stored in the datastore, unless the property has already been
assigned a value. This was useful for tracking which user creates
a model instance, which may not be the same user that modifies it
later.</p></li>
<li><p><strong>indexed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be indexed.</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – The default value for this property.</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a><em>]</em>) – A container of allowed values for this
property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">auto_current_user</span></code> is provided.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><strong>NotImplementedError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">auto_current_user_add</span></code> is provided.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.KeyProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">KeyProperty</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">name=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#KeyProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.KeyProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains <a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a> values.</p>
<p>The constructor for <a class="reference internal" href="#google.cloud.ndb.model.KeyProperty" title="google.cloud.ndb.model.KeyProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyProperty</span></code></a> allows at most two positional
arguments. Any usage of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> as a positional argument will
be ignored. Any of the following signatures are allowed:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my_value&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">KeyProperty</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="go">KeyProperty(&#39;my_value&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">KeyProperty</span><span class="p">(</span><span class="n">SimpleModel</span><span class="p">)</span>
<span class="go">KeyProperty(kind=&#39;SimpleModel&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">KeyProperty</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">SimpleModel</span><span class="p">)</span>
<span class="go">KeyProperty(&#39;my_value&#39;, kind=&#39;SimpleModel&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndb</span><span class="o">.</span><span class="n">KeyProperty</span><span class="p">(</span><span class="n">SimpleModel</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="go">KeyProperty(&#39;my_value&#39;, kind=&#39;SimpleModel&#39;)</span>
</pre></div>
</div>
<p>The type of the positional arguments will be used to determine their
purpose: a string argument is assumed to be the <code class="docutils literal notranslate"><span class="pre">name</span></code> and a
<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a> argument is assumed to be the <code class="docutils literal notranslate"><span class="pre">kind</span></code> (and checked that
the type is a subclass of <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>).</p>
<dl class="method">
<dt id="google.cloud.ndb.model.KeyProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#KeyProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.KeyProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>.</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is a partial <a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a> (i.e. it
    has no name or ID set).</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If the current property has an associated <code class="docutils literal notranslate"><span class="pre">kind</span></code>
    and <code class="docutils literal notranslate"><span class="pre">value</span></code> does not match that kind.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>kind</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.7)"><em>type</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The (optional) kind to be stored. If provided
as a positional argument, this must be a subclass of <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>
otherwise the kind name is sufficient.</p></li>
<li><p><strong>indexed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be indexed.</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a>) – The default value for this property.</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a><em>]</em>) – A container of allowed values for this
property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.BlobKeyProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">BlobKeyProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BlobKeyProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobKeyProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property containing <a class="reference internal" href="#google.cloud.ndb.model.BlobKey" title="google.cloud.ndb.model.BlobKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobKey</span></code></a> values.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.BlobKeyProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#BlobKeyProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.BlobKeyProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference internal" href="#google.cloud.ndb.model.BlobKey" title="google.cloud.ndb.model.BlobKey"><em>BlobKey</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a
    <a class="reference internal" href="#google.cloud.ndb.model.BlobKey" title="google.cloud.ndb.model.BlobKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlobKey</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.DateTimeProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">DateTimeProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">auto_now=None</em>, <em class="sig-param">auto_now_add=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateTimeProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateTimeProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A property that contains <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> values.</p>
<p>This property expects “naive” datetime stamps, i.e. no timezone can
be set. Furthermore, the assumption is that naive datetime stamps
represent UTC.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike Django, <code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code> can be overridden by setting the
value before writing the entity. And unlike the legacy
<code class="docutils literal notranslate"><span class="pre">google.appengine.ext.db</span></code>, <code class="docutils literal notranslate"><span class="pre">auto_now</span></code> does not supply a default
value. Also unlike legacy <code class="docutils literal notranslate"><span class="pre">db</span></code>, when the entity is written, the
property values are updated to match what was written. Finally, beware
that this also updates the value in the in-process cache, <strong>and</strong> that
<code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code> may interact weirdly with transaction retries (a retry
of a property with <code class="docutils literal notranslate"><span class="pre">auto_now_add</span></code> set will reuse the value that was
set on the first try).</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.DateTimeProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateTimeProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateTimeProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><em>datetime</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.DateTimeProperty._prepare_for_put">
<code class="sig-name descname">_prepare_for_put</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateTimeProperty._prepare_for_put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateTimeProperty._prepare_for_put" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the current timestamp when “auto” is set.</p>
<p>If one of the following scenarios occur</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">auto_now=True</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">auto_now_add=True</span></code> and the <code class="docutils literal notranslate"><span class="pre">entity</span></code> doesn’t have a value set</p></li>
</ul>
<p>then this hook will run before the <code class="docutils literal notranslate"><span class="pre">entity</span></code> is <code class="docutils literal notranslate"><span class="pre">put()</span></code> into
the datastore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><em>Model</em></a>) – An entity with values.</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>auto_now</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates that the property should be set to the
current datetime when an entity is created and whenever it is
updated.</p></li>
<li><p><strong>auto_now_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates that the property should be set to the
current datetime when an entity is created.</p></li>
<li><p><strong>indexed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be indexed.</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><em>datetime</em></a>) – The default value for this property.</p></li>
<li><p><strong>choices</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><em>datetime</em></a><em>]</em>) – A container of allowed values
for this property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">repeated=True</span></code> and <code class="docutils literal notranslate"><span class="pre">auto_now=True</span></code>.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">repeated=True</span></code> and <code class="docutils literal notranslate"><span class="pre">auto_now_add=True</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.DateProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">DateProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">auto_now=None</em>, <em class="sig-param">auto_now_add=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.DateTimeProperty" title="google.cloud.ndb.model.DateTimeProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.DateTimeProperty</span></code></a></p>
<p>A property that contains <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> values.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.DateProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.7)"><em>date</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value: a datetime object with the
time set to <code class="docutils literal notranslate"><span class="pre">00:00</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)">datetime</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.DateProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><em>datetime</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value: the date that <code class="docutils literal notranslate"><span class="pre">value</span></code>
occurs on.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.7)">date</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.DateProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#DateProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.DateProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.7)"><em>date</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.TimeProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">TimeProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">*</em>, <em class="sig-param">auto_now=None</em>, <em class="sig-param">auto_now_add=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">required=None</em>, <em class="sig-param">default=None</em>, <em class="sig-param">choices=None</em>, <em class="sig-param">validator=None</em>, <em class="sig-param">verbose_name=None</em>, <em class="sig-param">write_empty_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TimeProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TimeProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.DateTimeProperty" title="google.cloud.ndb.model.DateTimeProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.DateTimeProperty</span></code></a></p>
<p>A property that contains <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a> values.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.TimeProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TimeProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TimeProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.7)"><em>time</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value: a datetime object with the
date set to <code class="docutils literal notranslate"><span class="pre">1970-01-01</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)">datetime</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.TimeProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TimeProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TimeProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.7)"><em>datetime</em></a>) – The value to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The converted value: the time that <code class="docutils literal notranslate"><span class="pre">value</span></code>
occurs at.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.7)">time</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.TimeProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#TimeProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.TimeProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.7)"><em>time</em></a>) – The value to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.time" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">time</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.StructuredProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">StructuredProperty</code><span class="sig-paren">(</span><em class="sig-param">model_class</em>, <em class="sig-param">name=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#StructuredProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.StructuredProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A Property whose value is itself an entity.</p>
<p>The values of the sub-entity are indexed and can be queried.</p>
<dl class="method">
<dt id="google.cloud.ndb.model.StructuredProperty.IN">
<code class="sig-name descname">IN</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.StructuredProperty.IN" title="Permalink to this definition">¶</a></dt>
<dd><p>For the <code class="docutils literal notranslate"><span class="pre">in</span></code> comparison operator.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">in</span></code> operator cannot be overloaded in the way we want
to, so we define a method. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Employee</span><span class="o">.</span><span class="n">rank</span><span class="o">.</span><span class="n">IN</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]))</span>
</pre></div>
</div>
<p>Note that the method is called <code class="docutils literal notranslate"><span class="pre">_IN()</span></code> but may normally be invoked
as <code class="docutils literal notranslate"><span class="pre">IN()</span></code>; <code class="docutils literal notranslate"><span class="pre">_IN()</span></code> is provided for the case that a
<a class="reference internal" href="#google.cloud.ndb.model.StructuredProperty" title="google.cloud.ndb.model.StructuredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructuredProperty</span></code></a> refers to a model that has a property
named <code class="docutils literal notranslate"><span class="pre">IN</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Iterable</em><em>[</em><em>Any</em><em>]</em>) – The set of values that the property value
must be contained in.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A node corresponding
to the desired in filter.</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is empty, this will return a <a class="reference internal" href="query.html#google.cloud.ndb.query.FalseNode" title="google.cloud.ndb.query.FalseNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">FalseNode</span></code></a></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">len(value)</span> <span class="pre">==</span> <span class="pre">1</span></code>, this will return a <a class="reference internal" href="query.html#google.cloud.ndb.query.FilterNode" title="google.cloud.ndb.query.FilterNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilterNode</span></code></a></p></li>
<li><p>Otherwise, this will return a <a class="reference internal" href="query.html#google.cloud.ndb.query.DisjunctionNode" title="google.cloud.ndb.query.DisjunctionNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisjunctionNode</span></code></a></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="query.html#google.cloud.ndb.query.DisjunctionNode" title="google.cloud.ndb.query.DisjunctionNode">DisjunctionNode</a>,                 <a class="reference internal" href="query.html#google.cloud.ndb.query.FilterNode" title="google.cloud.ndb.query.FilterNode">FilterNode</a>,                 <a class="reference internal" href="query.html#google.cloud.ndb.query.FalseNode" title="google.cloud.ndb.query.FalseNode">FalseNode</a>]</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadFilterError" title="google.cloud.ndb.exceptions.BadFilterError"><strong>BadFilterError</strong></a> – If the current
    property is not indexed.</p></li>
<li><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadArgumentError" title="google.cloud.ndb.exceptions.BadArgumentError"><strong>BadArgumentError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not
    a basic container (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>
    or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#frozenset" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code></a>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.StructuredProperty.__getattr__">
<code class="sig-name descname">__getattr__</code><span class="sig-paren">(</span><em class="sig-param">attrname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#StructuredProperty.__getattr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.StructuredProperty.__getattr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamically get a subproperty.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.LocalStructuredProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">LocalStructuredProperty</code><span class="sig-paren">(</span><em class="sig-param">model_class</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#LocalStructuredProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.LocalStructuredProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.BlobProperty" title="google.cloud.ndb.model.BlobProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.BlobProperty</span></code></a></p>
<p>A property that contains ndb.Model value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike most property types, a <a class="reference internal" href="#google.cloud.ndb.model.LocalStructuredProperty" title="google.cloud.ndb.model.LocalStructuredProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalStructuredProperty</span></code></a>
is <strong>not</strong> indexed.</p>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.LocalStructuredProperty._to_base_type">
<code class="sig-name descname">_to_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#LocalStructuredProperty._to_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.LocalStructuredProperty._to_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to the “base” value type for this property.
:param value: The given class value to be converted.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not the correct <code class="docutils literal notranslate"><span class="pre">Model</span></code> type.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.LocalStructuredProperty._from_base_type">
<code class="sig-name descname">_from_base_type</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#LocalStructuredProperty._from_base_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.LocalStructuredProperty._from_base_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value from the “base” value type for this property.
:param value: The value to be
:type value: ~google.cloud.datastore.Entity or bytes
:param converted.:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The converted value with given class.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.LocalStructuredProperty._validate">
<code class="sig-name descname">_validate</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#LocalStructuredProperty._validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.LocalStructuredProperty._validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a <code class="docutils literal notranslate"><span class="pre">value</span></code> before setting it.
:param value: The value to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadValueError" title="google.cloud.ndb.exceptions.BadValueError"><strong>BadValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not a given class.</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_class</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.7)"><em>type</em></a>) – The class of the property. (Must be subclass of
<code class="docutils literal notranslate"><span class="pre">ndb.Model</span></code>.)</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The name of the property.</p></li>
<li><p><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if the value should be compressed (via
<code class="docutils literal notranslate"><span class="pre">zlib</span></code>).</p></li>
<li><p><strong>repeated</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is repeated, i.e. contains
multiple values.</p></li>
<li><p><strong>required</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if this property is required on the given
model type.</p></li>
<li><p><strong>default</strong> (<em>Any</em>) – The default value for this property.</p></li>
<li><p><strong>validator</strong> (<em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>Property</em></a><em>, </em><em>Any</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – A
validator to be used to check values.</p></li>
<li><p><strong>verbose_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – A longer, user-friendly name for this property.</p></li>
<li><p><strong>write_empty_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Indicates if an empty list should be written
to the datastore.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.GenericProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">GenericProperty</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">compressed=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#GenericProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.GenericProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Property</span></code></a></p>
<p>A Property whose value can be (almost) any basic type.
This is mainly used for Expando and for orphans (values present in
Cloud Datastore but not represented in the Model subclass) but can
also be used explicitly for properties with dynamically-typed
values.</p>
<p>This supports compressed=True, which is only effective for str
values (not for unicode), and implies indexed=False.</p>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.ComputedProperty">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">ComputedProperty</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">name=None</em>, <em class="sig-param">indexed=None</em>, <em class="sig-param">repeated=None</em>, <em class="sig-param">verbose_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#ComputedProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.ComputedProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.GenericProperty" title="google.cloud.ndb.model.GenericProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.GenericProperty</span></code></a></p>
<p>A Property whose value is determined by a user-supplied function.
Computed properties cannot be set directly, but are instead generated by a
function when required. They are useful to provide fields in Cloud Datastore
that can be used for filtering or sorting without having to manually set the
value in code - for example, sorting on the length of a BlobProperty, or
using an equality filter to check if another field is not empty.
ComputedProperty can be declared as a regular property, passing a function as
the first argument, or it can be used as a decorator for the function that
does the calculation.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">DatastoreFile</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">name</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>
<span class="gp">... </span>  <span class="n">name_lower</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">ComputedProperty</span><span class="p">(</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="gp">...</span>
<span class="gp">... </span>  <span class="n">data</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">BlobProperty</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">... </span>  <span class="nd">@ndb</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">ComputedProperty</span>
<span class="gp">... </span>  <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>  <span class="k">def</span> <span class="nf">_compute_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="gp">... </span>  <span class="nb">hash</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">ComputedProperty</span><span class="p">(</span><span class="n">_compute_hash</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;sha1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Constructor.</p>
<p>Args:</p>
<dl class="simple">
<dt>func: A function that takes one argument, the model instance, and returns</dt><dd><p>a calculated value.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.MetaModel">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">MetaModel</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">bases</em>, <em class="sig-param">classdict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#MetaModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.MetaModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a></p>
<p>Metaclass for Model.</p>
<p>This exists to fix up the properties – they need to know their name. For
example, defining a model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Book</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">pages</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">IntegerProperty</span><span class="p">()</span>
</pre></div>
</div>
<p>the <code class="docutils literal notranslate"><span class="pre">Book.pages</span></code> property doesn’t have the name <code class="docutils literal notranslate"><span class="pre">pages</span></code> assigned.
This is accomplished by calling the <code class="docutils literal notranslate"><span class="pre">_fix_up_properties()</span></code> method on the
class itself.</p>
</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.Model">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">Model</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class describing Cloud Datastore entities.</p>
<p>Model instances are usually called entities. All model classes
inheriting from <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> automatically have <a class="reference internal" href="#google.cloud.ndb.model.MetaModel" title="google.cloud.ndb.model.MetaModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaModel</span></code></a> as
their metaclass, so that the properties are fixed up properly after the
class is defined.</p>
<p>Because of this, you cannot use the same <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> object to
describe multiple properties – you must create separate <a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a>
objects for each property. For example, this does not work:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reuse_prop</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Wrong</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first</span> <span class="o">=</span> <span class="n">reuse_prop</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">reuse_prop</span>
</pre></div>
</div>
<p>instead each class attribute needs to be distinct:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NotWrong</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">first</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>
</pre></div>
</div>
<p>The “kind” for a given <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> subclass is normally equal to the
class name (exclusive of the module name or any other parent scope). To
override the kind, define <a class="reference internal" href="#google.cloud.ndb.model.Model._get_kind" title="google.cloud.ndb.model.Model._get_kind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_get_kind()</span></code></a>, as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_kind</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;AnotherKind&quot;</span>
</pre></div>
</div>
<p>A newly constructed entity will not be persisted to Cloud Datastore without
an explicit call to <a class="reference internal" href="#google.cloud.ndb.model.Model.put" title="google.cloud.ndb.model.Model.put"><code class="xref py py-meth docutils literal notranslate"><span class="pre">put()</span></code></a>.</p>
<p>User-defined properties can be passed to the constructor via keyword
arguments:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">value</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">FloatProperty</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">description</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MyModel</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">7.34e22</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Mass of the moon&quot;</span><span class="p">)</span>
<span class="go">MyModel(description=&#39;Mass of the moon&#39;, value=7.34e+22)</span>
</pre></div>
</div>
<p>In addition to user-defined properties, there are six accepted keyword
arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">namespace</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">projection</span></code></p></li>
</ul>
<p>Of these, <code class="docutils literal notranslate"><span class="pre">key</span></code> is a public attribute on <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> instances:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">entity1</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity1</span><span class="o">.</span><span class="n">key</span>
<span class="go">Key(&#39;MyModel&#39;, 11)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity2</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="n">entity1</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity2</span><span class="o">.</span><span class="n">key</span>
<span class="go">Key(&#39;MyModel&#39;, 11, &#39;MyModel&#39;, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity3</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="s2">&quot;e-three&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity3</span><span class="o">.</span><span class="n">key</span>
<span class="go">Key(&#39;MyModel&#39;, &#39;e-three&#39;)</span>
</pre></div>
</div>
<p>However, a user-defined property can be defined on the model with the
same name as one of those keyword arguments. In this case, the user-defined
property “wins”:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">IDCollide</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">id</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">FloatProperty</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span> <span class="o">=</span> <span class="n">IDCollide</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">17</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span>
<span class="go">IDCollide(id=17.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span><span class="o">.</span><span class="n">key</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<p>In such cases of argument “collision”, an underscore can be used as a
keyword argument prefix:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span> <span class="o">=</span> <span class="n">IDCollide</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="mi">2009</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity</span>
<span class="go">IDCollide(key=Key(&#39;IDCollide&#39;, 2009), id=17.0)</span>
</pre></div>
</div>
<p>For the <strong>very</strong> special case of a property named <code class="docutils literal notranslate"><span class="pre">key</span></code>, the <code class="docutils literal notranslate"><span class="pre">key</span></code>
attribute will no longer be the entity’s key but instead will be the
property value. Instead, the entity’s key is accessible via <code class="docutils literal notranslate"><span class="pre">_key</span></code>:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">KeyCollide</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity1</span> <span class="o">=</span> <span class="n">KeyCollide</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;Take fork in road&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">987</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity1</span>
<span class="go">KeyCollide(_key=Key(&#39;KeyCollide&#39;, 987), key=&#39;Take fork in road&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity1</span><span class="o">.</span><span class="n">key</span>
<span class="go">&#39;Take fork in road&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity1</span><span class="o">.</span><span class="n">_key</span>
<span class="go">Key(&#39;KeyCollide&#39;, 987)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity2</span> <span class="o">=</span> <span class="n">KeyCollide</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;Go slow&quot;</span><span class="p">,</span> <span class="n">_key</span><span class="o">=</span><span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">KeyCollide</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entity2</span>
<span class="go">KeyCollide(_key=Key(&#39;KeyCollide&#39;, 1), key=&#39;Go slow&#39;)</span>
</pre></div>
</div>
<p>The constructor accepts keyword arguments based on the properties
defined on model subclass. However, using keywords for nonexistent
or non-<a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><code class="xref py py-class docutils literal notranslate"><span class="pre">Property</span></code></a> class attributes will cause a failure:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Simple</span><span class="p">(</span><span class="n">ndb</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">marker</span> <span class="o">=</span> <span class="mi">1001</span>
<span class="gp">... </span>    <span class="n">some_name</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">StringProperty</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Simple</span><span class="p">(</span><span class="n">some_name</span><span class="o">=</span><span class="s2">&quot;Value set here.&quot;</span><span class="p">)</span>
<span class="go">Simple(some_name=&#39;Value set here.&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Simple</span><span class="p">(</span><span class="n">some_name</span><span class="o">=</span><span class="s2">&quot;Value set here.&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="mi">29</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">Cannot set non-property marker</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Simple</span><span class="p">(</span><span class="n">some_name</span><span class="o">=</span><span class="s2">&quot;Value set here.&quot;</span><span class="p">,</span> <span class="n">missing</span><span class="o">=</span><span class="mi">29</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">type object &#39;Simple&#39; has no attribute &#39;missing&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="google.cloud.ndb.model.Model._get_kind">
<em class="property">classmethod </em><code class="sig-name descname">_get_kind</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model._get_kind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model._get_kind" title="Permalink to this definition">¶</a></dt>
<dd><p>str: Return the kind name for this class.</p>
<p>This defaults to <code class="docutils literal notranslate"><span class="pre">cls.__name__</span></code>; users may override this to give a
class a different name when stored in Google Cloud Datastore than the
name of the class.</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a>) – Datastore key for this entity (kind must match this model).
If <code class="docutils literal notranslate"><span class="pre">key</span></code> is used, <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">parent</span></code> must be unset or
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p></li>
<li><p><strong>id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Key ID for this model. If <code class="docutils literal notranslate"><span class="pre">id</span></code> is used, <code class="docutils literal notranslate"><span class="pre">key</span></code> must be
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>Key</em></a>) – The parent model or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a> for a top-level model.
If <code class="docutils literal notranslate"><span class="pre">parent</span></code> is used, <code class="docutils literal notranslate"><span class="pre">key</span></code> must be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>.</p></li>
<li><p><strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Namespace for the entity key.</p></li>
<li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Application ID for the entity key.</p></li>
<li><p><strong>kwargs</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>Any</em><em>]</em>) – Additional keyword arguments. These should map
to properties of this model.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="exceptions.html#google.cloud.ndb.exceptions.BadArgumentError" title="google.cloud.ndb.exceptions.BadArgumentError"><strong>BadArgumentError</strong></a> – If the constructor is called with <code class="docutils literal notranslate"><span class="pre">key</span></code> and one
    of <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">app</span></code>, <code class="docutils literal notranslate"><span class="pre">namespace</span></code> or <code class="docutils literal notranslate"><span class="pre">parent</span></code> specified.</p>
</dd>
</dl>
<dl class="method">
<dt id="google.cloud.ndb.model.Model.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__eq__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two entities of the same class for equality.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.__ge__">
<code class="sig-name descname">__ge__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__ge__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__ge__" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> comparison is not well-defined.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.__gt__">
<code class="sig-name descname">__gt__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__gt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__gt__" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> comparison is not well-defined.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.__hash__">
<code class="sig-name descname">__hash__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__hash__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__hash__" title="Permalink to this definition">¶</a></dt>
<dd><p>Not implemented hash function.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.7)"><strong>TypeError</strong></a> – Always, to emphasize that entities are mutable.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.__le__">
<code class="sig-name descname">__le__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__le__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> comparison is not well-defined.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.__lt__">
<code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__lt__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> comparison is not well-defined.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Model.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Model.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an unambiguous string representation of an entity.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.allocate_ids">
<em class="property">classmethod </em><code class="sig-name descname">allocate_ids</code><span class="sig-paren">(</span><em class="sig-param">size=None</em>, <em class="sig-param">max=None</em>, <em class="sig-param">parent=None</em>, <em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.allocate_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates a range of key IDs for this model class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of IDs to allocate. Must be specified.</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum ID to allocated. This feature is no longer
supported. You must always specify <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a>) – Parent key for which the IDs will be allocated.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Keys for the newly allocated IDs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)">tuple</a>(<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key">key.Key</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.allocate_ids_async">
<em class="property">classmethod </em><code class="sig-name descname">allocate_ids_async</code><span class="sig-paren">(</span><em class="sig-param">size=None</em>, <em class="sig-param">max=None</em>, <em class="sig-param">parent=None</em>, <em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.allocate_ids_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocates a range of key IDs for this model class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of IDs to allocate. Must be specified.</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum ID to allocated. This feature is no longer
supported. You must always specify <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p></li>
<li><p><strong>parent</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a>) – Parent key for which the IDs will be allocated.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Eventural result is <code class="docutils literal notranslate"><span class="pre">tuple(key.Key)</span></code>: Keys for</dt><dd><p>the newly allocated IDs.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future">tasklets.Future</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.get_by_id">
<em class="property">classmethod </em><code class="sig-name descname">get_by_id</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">parent=None</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">project=None</em>, <em class="sig-param">app=None</em>, <em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.get_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an instance of Model class by ID.</p>
<p>This really just a shorthand for <code class="docutils literal notranslate"><span class="pre">Key(cls,</span> <span class="pre">id,</span> <span class="pre">....).get()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – ID of the entity to load.</p></li>
<li><p><strong>parent</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a><em>]</em>) – Key for the parent of the entity to
load.</p></li>
<li><p><strong>namespace</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Namespace for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>project</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Project id for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – DEPRECATED: Synonym for <cite>project</cite>.</p></li>
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The retrieved entity, if one is found.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model">Model</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.get_by_id_async">
<em class="property">classmethod </em><code class="sig-name descname">get_by_id_async</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">parent=None</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">project=None</em>, <em class="sig-param">app=None</em>, <em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.get_by_id_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an instance of Model class by ID.</p>
<p>This is the asynchronous version of <a class="reference internal" href="#google.cloud.ndb.model.Model.get_by_id" title="google.cloud.ndb.model.Model.get_by_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_by_id()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – ID of the entity to load.</p></li>
<li><p><strong>parent</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a><em>]</em>) – Key for the parent of the entity to
load.</p></li>
<li><p><strong>namespace</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Namespace for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>project</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Project id for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – DEPRECATED: Synonym for <cite>project</cite>.</p></li>
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Optional[Model]: The retrieved entity, if one is</dt><dd><p>found.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future">tasklets.Future</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.get_or_insert">
<em class="property">classmethod </em><code class="sig-name descname">get_or_insert</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">parent=None</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">project=None</em>, <em class="sig-param">app=None</em>, <em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em>, <em class="sig-param">**kw_model_args</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.get_or_insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Transactionally retrieves an existing entity or creates a new one.</p>
<p>Will attempt to look up an entity with the given <code class="docutils literal notranslate"><span class="pre">name</span></code> and
<code class="docutils literal notranslate"><span class="pre">parent</span></code>. If none is found a new entity will be created using the
given <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">parent</span></code>, and passing any <code class="docutils literal notranslate"><span class="pre">kw_model_args</span></code> to the
constructor the <code class="docutils literal notranslate"><span class="pre">Model</span></code> class.</p>
<p>If not already in a transaction, a new transaction will be created and
this operation will be run in that transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the entity to load or create.</p></li>
<li><p><strong>parent</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a><em>]</em>) – Key for the parent of the entity to
load.</p></li>
<li><p><strong>namespace</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Namespace for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>project</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Project id for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – DEPRECATED: Synonym for <cite>project</cite>.</p></li>
<li><p><strong>**kw_model_args</strong> – Keyword arguments to pass to the constructor of
the model class if an instance for the specified key name does
not already exist. If an instance with the supplied <code class="docutils literal notranslate"><span class="pre">name</span></code>
and <code class="docutils literal notranslate"><span class="pre">parent</span></code> already exists, these arguments will be
discarded.</p></li>
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The entity that was either just retrieved or created.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model">Model</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.get_or_insert_async">
<em class="property">classmethod </em><code class="sig-name descname">get_or_insert_async</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">parent=None</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">project=None</em>, <em class="sig-param">app=None</em>, <em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em>, <em class="sig-param">**kw_model_args</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.get_or_insert_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Transactionally retrieves an existing entity or creates a new one.</p>
<p>This is the asynchronous version of :meth:<code class="docutils literal notranslate"><span class="pre">_get_or_insert</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Name of the entity to load or create.</p></li>
<li><p><strong>parent</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a><em>]</em>) – Key for the parent of the entity to
load.</p></li>
<li><p><strong>namespace</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Namespace for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>project</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Project id for the entity to load. If not
passed, uses the client’s value.</p></li>
<li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – DEPRECATED: Synonym for <cite>project</cite>.</p></li>
<li><p><strong>**kw_model_args</strong> – Keyword arguments to pass to the constructor of
the model class if an instance for the specified key name does
not already exist. If an instance with the supplied <code class="docutils literal notranslate"><span class="pre">name</span></code>
and <code class="docutils literal notranslate"><span class="pre">parent</span></code> already exists, these arguments will be
discarded.</p></li>
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Model: The entity that was either just retrieved</dt><dd><p>or created.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future">tasklets.Future</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.gql">
<em class="property">classmethod </em><code class="sig-name descname">gql</code><span class="sig-paren">(</span><em class="sig-param">query_string</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.gql" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a GQL query using this model as the FROM entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The WHERE part of a GQL query (including the
WHERE kwyword).</p></li>
<li><p><strong>args</strong> – if present, used to call bind() on the query.</p></li>
<li><p><strong>kwargs</strong> – if present, used to call bind() on the query.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>class:query.Query: A query instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.has_complete_key">
<code class="sig-name descname">has_complete_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.has_complete_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether this entity has a complete key.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>:data:<code class="docutils literal notranslate"><span class="pre">True</span></code> if and only if entity has a key and that key</dt><dd><p>has a name or an id.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="google.cloud.ndb.model.Model.key">
<code class="sig-name descname">key</code><a class="headerlink" href="#google.cloud.ndb.model.Model.key" title="Permalink to this definition">¶</a></dt>
<dd><p>A special pseudo-property for key queries.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">key</span> <span class="o">=</span> <span class="n">ndb</span><span class="o">.</span><span class="n">Key</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="mi">808</span><span class="p">)</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">MyModel</span><span class="o">.</span><span class="n">key</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<p>will create a query for the reserved <code class="docutils literal notranslate"><span class="pre">__key__</span></code> property.</p>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.populate">
<code class="sig-name descname">populate</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate an instance from keyword arguments.</p>
<p>Each keyword argument will be used to set a corresponding property.
Each keyword must refer to a valid property name. This is similar to
passing keyword arguments to the <code class="docutils literal notranslate"><span class="pre">Model</span></code> constructor, except that no
provision for key, id, or parent are made.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – Keyword arguments corresponding to poperties of this
model class.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronously write this entity to Cloud Datastore.</p>
<p>If the operation creates or completes a key, the entity’s key
attribute is set to the new, complete key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The key for the entity. This is always a complete key.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key">key.Key</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.put_async">
<code class="sig-name descname">put_async</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.put_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Asynchronously write this entity to Cloud Datastore.</p>
<p>If the operation creates or completes a key, the entity’s key
attribute is set to the new, complete key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>The eventual result will be the key for the</dt><dd><p>entity. This is always a complete key.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future">tasklets.Future</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.query">
<em class="property">classmethod </em><code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">*filters</em>, <em class="sig-param">distinct=False</em>, <em class="sig-param">ancestor=None</em>, <em class="sig-param">order_by=None</em>, <em class="sig-param">orders=None</em>, <em class="sig-param">project=None</em>, <em class="sig-param">app=None</em>, <em class="sig-param">namespace=None</em>, <em class="sig-param">projection=None</em>, <em class="sig-param">distinct_on=None</em>, <em class="sig-param">group_by=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a query for this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*filters</strong> (<a class="reference internal" href="query.html#google.cloud.ndb.query.FilterNode" title="google.cloud.ndb.query.FilterNode"><em>query.FilterNode</em></a>) – Filters to apply to this query.</p></li>
<li><p><strong>distinct</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>]</em>) – Setting this to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">True</span></code></a> is
shorthand for setting <cite>distinct_on</cite> to <cite>projection</cite>.</p></li>
<li><p><strong>ancestor</strong> (<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><em>key.Key</em></a>) – Entities returned will be descendants of
<cite>ancestor</cite>.</p></li>
<li><p><strong>order_by</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>google.cloud.ndb.model.Property</em></a><em>]</em><em>]</em>) – The model properties used to order query results.</p></li>
<li><p><strong>orders</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference internal" href="#google.cloud.ndb.model.Property" title="google.cloud.ndb.model.Property"><em>google.cloud.ndb.model.Property</em></a><em>]</em><em>]</em>) – Deprecated. Synonym for <cite>order_by</cite>.</p></li>
<li><p><strong>project</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The project to perform the query in. Also known as
the app, in Google App Engine. If not passed, uses the
client’s value.</p></li>
<li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Deprecated. Synonym for <cite>project</cite>.</p></li>
<li><p><strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – The namespace to which to restrict results.
If not passed, uses the client’s value.</p></li>
<li><p><strong>projection</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The fields to return as part of the
query results.</p></li>
<li><p><strong>distinct_on</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – The field names used to group query
results.</p></li>
<li><p><strong>group_by</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – Deprecated. Synonym for distinct_on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="google.cloud.ndb.model.Model.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><em class="sig-param">include=None</em>, <em class="sig-param">*</em>, <em class="sig-param">exclude=None</em><span class="sig-paren">)</span><a class="headerlink" href="#google.cloud.ndb.model.Model.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing the entity’s property values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.7)"><em>set</em></a><em>]</em><em>]</em>) – Set of property names
to include. Default is to include all names.</p></li>
<li><p><strong>exclude</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.7)"><em>tuple</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.7)"><em>set</em></a><em>]</em><em>]</em>) – Set of property names
to exclude. Default is to not exclude any names.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="google.cloud.ndb.model.Expando">
<em class="property">class </em><code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">Expando</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#Expando"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.Expando" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">google.cloud.ndb.model.Model</span></code></a></p>
<p>Model subclass to support dynamic Property names and types.</p>
<p>Sometimes the set of properties is not known ahead of time.  In such
cases you can use the Expando class.  This is a Model subclass that
creates properties on the fly, both upon assignment and when loading
an entity from Cloud Datastore.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">SuperPerson</span><span class="p">(</span><span class="n">Expando</span><span class="p">):</span>
<span class="go">        name = StringProperty()</span>
<span class="go">        superpower = StringProperty()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">razorgirl</span> <span class="o">=</span> <span class="n">SuperPerson</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Molly Millions&#39;</span><span class="p">,</span>
<span class="go">                            superpower=&#39;bionic eyes, razorblade hands&#39;,</span>
<span class="go">                            rasta_name=&#39;Steppin&#39; Razor&#39;,</span>
<span class="go">                            alt_name=&#39;Sally Shears&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elastigirl</span> <span class="o">=</span> <span class="n">SuperPerson</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Helen Parr&#39;</span><span class="p">,</span>
<span class="go">                             superpower=&#39;stretchable body&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elastigirl</span><span class="o">.</span><span class="n">max_stretch</span> <span class="o">=</span> <span class="mi">30</span>  <span class="c1"># Meters</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">razorgirl</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">    [&#39;rasta_name&#39;, &#39;name&#39;, &#39;superpower&#39;, &#39;alt_name&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">elastigirl</span><span class="o">.</span><span class="n">_properties</span><span class="p">)</span>
<span class="go">    {&#39;max_stretch&#39;: GenericProperty(&#39;max_stretch&#39;),</span>
<span class="go">     &#39;name&#39;: StringProperty(&#39;name&#39;),</span>
<span class="go">     &#39;superpower&#39;: StringProperty(&#39;superpower&#39;)}</span>
</pre></div>
</div>
<p>Note: You can inspect the properties of an expando instance using the
_properties attribute, as shown above. This property exists for plain Model instances
too; it is just not as interesting for those.</p>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.get_multi_async">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">get_multi_async</code><span class="sig-paren">(</span><em class="sig-param">keys</em>, <em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#get_multi_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.get_multi_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches a sequence of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (Sequence[<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>]) – A sequence of
keys.</p></li>
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of futures.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future"><code class="xref py py-class docutils literal notranslate"><span class="pre">Future</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.get_multi">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">get_multi</code><span class="sig-paren">(</span><em class="sig-param">keys</em>, <em class="sig-param">*</em>, <em class="sig-param">read_consistency=None</em>, <em class="sig-param">read_policy=None</em>, <em class="sig-param">transaction=None</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#get_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.get_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches a sequence of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (Sequence[<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>]) – A sequence of
keys.</p></li>
<li><p><strong>read_consistency</strong> – Set this to <code class="docutils literal notranslate"><span class="pre">ndb.EVENTUAL</span></code> if, instead of
waiting for the Datastore to finish applying changes to all
returned results, you wish to get possibly-not-current results
faster. You can’t do this if using a transaction.</p></li>
<li><p><strong>transaction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) – Any results returned will be consistent with
the Datastore state represented by this transaction id.
Defaults to the currently running transaction. Cannot be used
with <code class="docutils literal notranslate"><span class="pre">read_consistency=ndb.EVENTUAL</span></code>.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
<li><p><strong>read_policy</strong> – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">read_consistency</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>List</dt><dd><p>containing the retrieved models or None where a key was not found.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Union[<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.put_multi_async">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">put_multi_async</code><span class="sig-paren">(</span><em class="sig-param">entities</em>, <em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#put_multi_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.put_multi_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a sequence of Model instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>entities</strong> (List[<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>]) – A sequence
of models to store.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of futures.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future"><code class="xref py py-class docutils literal notranslate"><span class="pre">Future</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.put_multi">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">put_multi</code><span class="sig-paren">(</span><em class="sig-param">entities</em>, <em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#put_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.put_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a sequence of Model instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entities</strong> (List[<a class="reference internal" href="#google.cloud.ndb.model.Model" title="google.cloud.ndb.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>]) – A sequence
of models to store.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the stored keys.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.delete_multi_async">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">delete_multi_async</code><span class="sig-paren">(</span><em class="sig-param">keys</em>, <em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#delete_multi_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.delete_multi_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a sequence of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>keys</strong> (Sequence[<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>]) – A sequence of
keys.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of futures.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="tasklets.html#google.cloud.ndb.tasklets.Future" title="google.cloud.ndb.tasklets.Future"><code class="xref py py-class docutils literal notranslate"><span class="pre">Future</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.delete_multi">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">delete_multi</code><span class="sig-paren">(</span><em class="sig-param">keys</em>, <em class="sig-param">*</em>, <em class="sig-param">retries=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">deadline=None</em>, <em class="sig-param">force_writes=None</em>, <em class="sig-param">use_cache=None</em>, <em class="sig-param">use_memcache=None</em>, <em class="sig-param">use_datastore=None</em>, <em class="sig-param">memcache_timeout=None</em>, <em class="sig-param">max_memcache_items=None</em>, <em class="sig-param">_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#delete_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.delete_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a sequence of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (Sequence[<a class="reference internal" href="key.html#google.cloud.ndb.key.Key" title="google.cloud.ndb.key.Key"><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></a>]) – A sequence of
keys.</p></li>
<li><p><strong>retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of times to retry this operation in the case
of transient server errors. Operation will potentially be tried
up to <code class="docutils literal notranslate"><span class="pre">retries</span></code> + 1 times. Set to <code class="docutils literal notranslate"><span class="pre">0</span></code> to try operation only
once, with no retries.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – Override the gRPC timeout, in seconds.</p></li>
<li><p><strong>deadline</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – DEPRECATED: Synonym for <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>force_writes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether a write request should
succeed even if the app is read-only. (This only applies to
user controlled read-only periods.)</p></li>
<li><p><strong>use_cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in in-process
cache; overrides in-process cache policy for this operation.</p></li>
<li><p><strong>use_memcache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
memcache; overrides memcache policy for this operation.</p></li>
<li><p><strong>use_datastore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Specifies whether to store entities in
Datastore; overrides Datastore policy for this operation.</p></li>
<li><p><strong>memcache_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum lifetime for entities in memcache;
overrides memcache timeout policy for this operation.</p></li>
<li><p><strong>max_memcache_items</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Maximum batch size for the auto-batching
feature of the Context memcache methods. For example, with the
default size of max_memcache_items (100), up to 100 memcache
set operations will be combined into a single set_multi
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A list whose items are all None, one per deleted</dt><dd><p>key.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">None</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.get_indexes_async">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">get_indexes_async</code><span class="sig-paren">(</span><em class="sig-param">**options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#get_indexes_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.get_indexes_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a data structure representing the configured indexes.</p>
</dd></dl>

<dl class="function">
<dt id="google.cloud.ndb.model.get_indexes">
<code class="sig-prename descclassname">google.cloud.ndb.model.</code><code class="sig-name descname">get_indexes</code><span class="sig-paren">(</span><em class="sig-param">**options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/google/cloud/ndb/model.html#get_indexes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#google.cloud.ndb.model.get_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a data structure representing the configured indexes.</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ndb</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="client.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="key.html">Key</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Model and Property</a></li>
<li class="toctree-l1"><a class="reference internal" href="query.html">Query</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasklets.html">Tasklets</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="polymodel.html">Polymorphic Models and Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="django-middleware.html">Django Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="msgprop.html">ProtoRPC Message Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="blobstore.html">Blobstore</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Datastore Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Datastore Statistics</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="key.html" title="previous chapter">Key</a></li>
      <li>Next: <a href="query.html" title="next chapter">Query</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/model.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>